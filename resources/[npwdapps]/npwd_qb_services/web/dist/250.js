"use strict";(self.webpackChunknpwd_app=self.webpackChunknpwd_app||[]).push([[250],{8333:(e,n,t)=>{var r=t(4836);n.Z=void 0;var a=r(t(4938)),o=t(5893),c=(0,a.default)((0,o.jsx)("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"}),"Work");n.Z=c},4121:(e,n,t)=>{t.d(n,{T:()=>c});var r=t(2950),a=t.n(r),o=t(8333),c=function(){return a().createElement(o.Z,{fontSize:"large"})}},9250:(e,n,t)=>{t.r(n),t.d(n,{externalAppConfig:()=>c,default:()=>i});var r=t(4023),a=t(4121),o=t(4274),c=function(){return{id:"services",nameLocale:"Services",color:"#fff",backgroundColor:"#333",path:"/services",icon:a.T,app:r.Z,theme:o.rS}};const i=c},4023:(e,n,t)=>{t.d(n,{Z:()=>x});var r,a,o=t(2950),c=t.n(o),i=t(5475),l=t(6235),u=t(3839),s=t.n(u),f=t(8440),d=t(4810),p=t(5974),h=t(6867),m=t(2658),v=t(4669),b=t(7405),y=t(7905),g=function(){return g=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},g.apply(this,arguments)},k=s().div(Z||(r=["\n  flex: 1;\n  padding: 1.5rem;\n  display: flex;\n  box-sizing: border-box;\n  flex-direction: column;\n  overflow: auto;\n  max-height: 100%;\n  background-color: #fafafa;\n  ","\n"],a=["\n  flex: 1;\n  padding: 1.5rem;\n  display: flex;\n  box-sizing: border-box;\n  flex-direction: column;\n  overflow: auto;\n  max-height: 100%;\n  background-color: #fafafa;\n  ","\n"],Object.defineProperty?Object.defineProperty(r,"raw",{value:a}):r.raw=a,Z=r),(function(e){return e.isDarkMode&&"\n    background-color: #212121;\n  "})),w=function(e){var n=(0,l.useHistory)(),t=(0,o.useState)([]),r=t[0],a=t[1],i=(0,o.useState)(null),u=i[0],s=i[1],g="dark"===e.theme.palette.mode;return(0,o.useEffect)((function(){(0,b.Z)("npwd:qb-services:getPlayers").then((function(e){a(e.data)}))}),[]),(0,o.useEffect)((function(){if(r){var e=null==r?void 0:r.reduce((function(e,n){return e[n.job]||(e[n.job]=[]),e[n.job].push(n),e}),{});s(e)}}),[r]),c().createElement(d.Z,{injectFirst:!0},c().createElement(p.Z,{theme:e.theme},c().createElement(k,{isDarkMode:g},c().createElement(f.h,null,c().createElement(h.Z,{color:"primary",onClick:function(){return n.goBack()}},c().createElement(v.Z,null)),c().createElement(m.Z,{fontSize:24,color:"primary",fontWeight:"bold"},"Services")),u&&c().createElement(y.W,{isDarkMode:g,players:u}))))};const x=function(e){return c().createElement(i.NuiProvider,null,c().createElement(w,g({},e)))};var Z},4274:(e,n,t)=>{t.d(n,{rS:()=>i});var r=t(3486),a=t(6115),o=r.Z[500],c=a.Z.white,i={palette:{primary:{main:o,dark:r.Z[700],light:r.Z[300],contrastText:c},secondary:{main:"#d32f2f",light:"#eb4242",dark:"#941212",contrastText:c},success:{main:"#2196f3",contrastText:c}}}},7905:(e,n,t)=>{t.d(n,{W:()=>h});var r=t(1508),a=t(2440),o=t(8277),c=t(8898),i=t(5266),l=t(6867),u=t(8584),s=t(2950),f=t.n(s),d=t(1145),p=t(7405),h=function(e){var n=e.players,t=e.isDarkMode,h=(0,s.useState)(null),m=h[0],v=h[1];return f().createElement(r.Z,null,Object.keys(n).map((function(e){return f().createElement(a.Z,{subheader:f().createElement(o.Z,{sx:{cursor:"pointer"},onClick:function(){v(e)}},e.toUpperCase())},f().createElement(c.Z,{in:m===e},n[e].map((function(e){return f().createElement(i.ZP,{secondaryAction:f().createElement(l.Z,{onClick:function(){return n=e.phoneNumber,void(0,p.Z)("npwd:qb-services:callPlayer",{number:n}).then((function(e){console.log(e.data)}));var n}},f().createElement(d.Z,null))},f().createElement(u.Z,{primaryTypographyProps:{color:t?"#fff":"#000",fontWeight:"bold"},primary:e.name,secondary:e.phoneNumber}))}))))})))}},8440:(e,n,t)=>{t.d(n,{h:()=>a});var r=t(3839),a=t.n(r)()("div")({width:"100%",justifyContent:"flex-start",display:"flex",alignItems:"center",gap:20,marginBottom:20})},7405:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(5181);const a=function(e,n,t){return a=this,o=void 0,i=function(){var a;return function(e,n){var t,r,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=n.call(e,c)}catch(e){o=[6,e],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(o){switch(o.label){case 0:return a={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)},(0,r.Id)()&&t?[2,t]:[4,fetch("https://".concat("npwd_qb_services","/").concat(e),a)];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))},new((c=void 0)||(c=Promise))((function(e,n){function t(e){try{l(i.next(e))}catch(e){n(e)}}function r(e){try{l(i.throw(e))}catch(e){n(e)}}function l(n){var a;n.done?e(n.value):(a=n.value,a instanceof c?a:new c((function(e){e(a)}))).then(t,r)}l((i=i.apply(a,o||[])).next())}));var a,o,c,i}},5181:(e,n,t)=>{t.d(n,{Id:()=>r});var r=function(){return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFnQixtQ0FFcEJ0QixLQUFNdUIsS0FBS0MsVUFBVTdFLEtBRXJCLFdBQWtCZ0QsRUFDWCxDQUFDLEVBQWNBLEdBR25CLENBQUMsRUFBYThCLE1BQU0sV0FBV0MsT0FEdkIsbUJBQzRDLEtBQUtBLE9BQU9oQyxHQUFZSyxJQUN2RixLQUFLLEVBRUQsTUFBTyxDQUFDLEVBRERyRSxFQUFHNEUsT0FDZ0JxQixRQUM5QixLQUFLLEVBRUQsTUFBTyxDQUFDLEVBRE1qRyxFQUFHNEUsYUFoRTFCLEtBRmdFc0IsT0E2Q3hDLEtBM0NiQSxFQUFJQyxXQUFVLFNBQVVDLEVBQVNDLEdBQy9DLFNBQVNDLEVBQVV2RyxHQUFTLElBQU0wRixFQUFLckIsRUFBVVcsS0FBS2hGLElBQVcsTUFBT3lGLEdBQUthLEVBQU9iLElBQ3BGLFNBQVNlLEVBQVN4RyxHQUFTLElBQU0wRixFQUFLckIsRUFBaUIsTUFBRXJFLElBQVcsTUFBT3lGLEdBQUthLEVBQU9iLElBQ3ZGLFNBQVNDLEVBQUtlLEdBSmxCLElBQWV6RyxFQUlheUcsRUFBT2xCLEtBQU9jLEVBQVFJLEVBQU96RyxRQUoxQ0EsRUFJeUR5RyxFQUFPekcsTUFKaERBLGFBQWlCbUcsRUFBSW5HLEVBQVEsSUFBSW1HLEdBQUUsU0FBVUUsR0FBV0EsRUFBUXJHLE9BSVRnQixLQUFLdUYsRUFBV0MsR0FDbEdkLEdBQU1yQixFQUFZQSxFQUFVMUUsTUFBTXdFLEVBQVNDLEdBQWMsS0FBS1ksV0FOMUIsSUFBVWIsRUFBU0MsRUFBWStCLEVBQUc5QixJLGlDQ0F2RSxJQUFJcUMsRUFBZSxXQUN0QixPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbnB3ZC1hcHAvLi9ub2RlX21vZHVsZXMvQG11aS9pY29ucy1tYXRlcmlhbC9Xb3JrLmpzIiwid2VicGFjazovL25wd2QtYXBwLy4vaWNvbi50c3giLCJ3ZWJwYWNrOi8vbnB3ZC1hcHAvLi9ucHdkLmNvbmZpZy50cyIsIndlYnBhY2s6Ly9ucHdkLWFwcC8uL3NyYy9BcHAudHN4Iiwid2VicGFjazovL25wd2QtYXBwLy4vc3JjL2FwcC50aGVtZS50cyIsIndlYnBhY2s6Ly9ucHdkLWFwcC8uL3NyYy9jb21wb25lbnRzL1BsYXllcnNMaXN0LnRzeCIsIndlYnBhY2s6Ly9ucHdkLWFwcC8uL3NyYy9zdHlsZXMvaGVhZGVyLnN0eWxlcy50cyIsIndlYnBhY2s6Ly9ucHdkLWFwcC8uL3NyYy91dGlscy9mZXRjaE51aS50cyIsIndlYnBhY2s6Ly9ucHdkLWFwcC8uL3NyYy91dGlscy9taXNjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9jcmVhdGVTdmdJY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9jcmVhdGVTdmdJY29uXCIpKTtcblxudmFyIF9qc3hSdW50aW1lID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi8oMCwgX2pzeFJ1bnRpbWUuanN4KShcInBhdGhcIiwge1xuICBkOiBcIk0yMCA2aC00VjRjMC0xLjExLS44OS0yLTItMmgtNGMtMS4xMSAwLTIgLjg5LTIgMnYySDRjLTEuMTEgMC0xLjk5Ljg5LTEuOTkgMkwyIDE5YzAgMS4xMS44OSAyIDIgMmgxNmMxLjExIDAgMi0uODkgMi0yVjhjMC0xLjExLS44OS0yLTItMnptLTYgMGgtNFY0aDR2MnpcIlxufSksICdXb3JrJyk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgV29ya0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9Xb3JrJztcbmV4cG9ydCB2YXIgU2VydmljZXNJY29uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFdvcmtJY29uLCB7IGZvbnRTaXplOiBcImxhcmdlXCIgfSk7XG59O1xuIiwiaW1wb3J0IEFwcCBmcm9tICcuL3NyYy9BcHAnO1xuaW1wb3J0IHsgU2VydmljZXNJY29uIH0gZnJvbSAnLi9pY29uJztcbmltcG9ydCB7IHRoZW1lIH0gZnJvbSAnLi9zcmMvYXBwLnRoZW1lJztcbmV4cG9ydCB2YXIgZXh0ZXJuYWxBcHBDb25maWcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoe1xuICAgIGlkOiAnc2VydmljZXMnLFxuICAgIG5hbWVMb2NhbGU6ICdTZXJ2aWNlcycsXG4gICAgY29sb3I6ICcjZmZmJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzMzJyxcbiAgICBwYXRoOiAnL3NlcnZpY2VzJyxcbiAgICBpY29uOiBTZXJ2aWNlc0ljb24sXG4gICAgYXBwOiBBcHAsXG4gICAgdGhlbWU6IHRoZW1lLFxufSk7IH07XG5leHBvcnQgZGVmYXVsdCBleHRlcm5hbEFwcENvbmZpZztcbiIsInZhciBfX21ha2VUZW1wbGF0ZU9iamVjdCA9ICh0aGlzICYmIHRoaXMuX19tYWtlVGVtcGxhdGVPYmplY3QpIHx8IGZ1bmN0aW9uIChjb29rZWQsIHJhdykge1xuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gICAgcmV0dXJuIGNvb2tlZDtcbn07XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBOdWlQcm92aWRlciB9IGZyb20gJ3JlYWN0LWZpdmVtLWhvb2tzJztcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSAnLi9zdHlsZXMvaGVhZGVyLnN0eWxlcyc7XG5pbXBvcnQgeyBJY29uQnV0dG9uLCBTdHlsZWRFbmdpbmVQcm92aWRlciwgVGhlbWVQcm92aWRlciwgVHlwb2dyYXBoeSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgQXJyb3dCYWNrIH0gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbCc7XG5pbXBvcnQgZmV0Y2hOdWkgZnJvbSAnLi91dGlscy9mZXRjaE51aSc7XG5pbXBvcnQgeyBQbGF5ZXJzTGlzdCB9IGZyb20gJy4vY29tcG9uZW50cy9QbGF5ZXJzTGlzdCc7XG52YXIgQ29udGFpbmVyID0gc3R5bGVkLmRpdih0ZW1wbGF0ZU9iamVjdF8xIHx8ICh0ZW1wbGF0ZU9iamVjdF8xID0gX19tYWtlVGVtcGxhdGVPYmplY3QoW1wiXFxuICBmbGV4OiAxO1xcbiAgcGFkZGluZzogMS41cmVtO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcXG4gIFwiLCBcIlxcblwiXSwgW1wiXFxuICBmbGV4OiAxO1xcbiAgcGFkZGluZzogMS41cmVtO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcXG4gIFwiLCBcIlxcblwiXSkpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgaXNEYXJrTW9kZSA9IF9hLmlzRGFya01vZGU7XG4gICAgcmV0dXJuIGlzRGFya01vZGUgJiZcbiAgICAgICAgXCJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIxMjEyMTtcXG4gIFwiO1xufSk7XG52YXIgQXBwID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XG4gICAgdmFyIF9hID0gdXNlU3RhdGUoW10pLCBwbGF5ZXJzID0gX2FbMF0sIHNldFBsYXllcnMgPSBfYVsxXTtcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShudWxsKSwgbWFwcGVkUGxheWVycyA9IF9iWzBdLCBzZXRNYXBwZWRQbGF5ZXJzID0gX2JbMV07XG4gICAgdmFyIGlzRGFya01vZGUgPSBwcm9wcy50aGVtZS5wYWxldHRlLm1vZGUgPT09ICdkYXJrJztcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBmZXRjaE51aSgnbnB3ZDpxYi1zZXJ2aWNlczpnZXRQbGF5ZXJzJykudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICAgICAgc2V0UGxheWVycyhyZXNwLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHBsYXllcnMpIHtcbiAgICAgICAgICAgIHZhciBtYXBwZWRQbGF5ZXIgPSBwbGF5ZXJzID09PSBudWxsIHx8IHBsYXllcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBsYXllcnMucmVkdWNlKGZ1bmN0aW9uIChwbGF5ZXJzR3JvdXAsIHBsYXllcikge1xuICAgICAgICAgICAgICAgIGlmICghcGxheWVyc0dyb3VwW3BsYXllci5qb2JdKVxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJzR3JvdXBbcGxheWVyLmpvYl0gPSBbXTtcbiAgICAgICAgICAgICAgICBwbGF5ZXJzR3JvdXBbcGxheWVyLmpvYl0ucHVzaChwbGF5ZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJzR3JvdXA7XG4gICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICBzZXRNYXBwZWRQbGF5ZXJzKG1hcHBlZFBsYXllcik7XG4gICAgICAgIH1cbiAgICB9LCBbcGxheWVyc10pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRFbmdpbmVQcm92aWRlciwgeyBpbmplY3RGaXJzdDogdHJ1ZSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRoZW1lUHJvdmlkZXIsIHsgdGhlbWU6IHByb3BzLnRoZW1lIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lciwgeyBpc0RhcmtNb2RlOiBpc0RhcmtNb2RlIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkZXIsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwgeyBjb2xvcjogXCJwcmltYXJ5XCIsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhpc3RvcnkuZ29CYWNrKCk7IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXJyb3dCYWNrLCBudWxsKSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyBmb250U2l6ZTogMjQsIGNvbG9yOiBcInByaW1hcnlcIiwgZm9udFdlaWdodDogXCJib2xkXCIgfSwgXCJTZXJ2aWNlc1wiKSksXG4gICAgICAgICAgICAgICAgbWFwcGVkUGxheWVycyAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFBsYXllcnNMaXN0LCB7IGlzRGFya01vZGU6IGlzRGFya01vZGUsIHBsYXllcnM6IG1hcHBlZFBsYXllcnMgfSkpKSkpO1xufTtcbnZhciBXaXRoUHJvdmlkZXJzID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChOdWlQcm92aWRlciwgbnVsbCxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwgX19hc3NpZ24oe30sIHByb3BzKSkpKTsgfTtcbmV4cG9ydCBkZWZhdWx0IFdpdGhQcm92aWRlcnM7XG52YXIgdGVtcGxhdGVPYmplY3RfMTtcbiIsImltcG9ydCB7IGNvbW1vbiwgZ3JlZW4gfSBmcm9tICdAbXVpL21hdGVyaWFsL2NvbG9ycyc7XG5leHBvcnQgdmFyIEFQUF9QUklNQVJZX0NPTE9SID0gZ3JlZW5bNTAwXTtcbmV4cG9ydCB2YXIgQVBQX1RFWFRfQ09MT1IgPSBjb21tb24ud2hpdGU7XG5leHBvcnQgdmFyIHRoZW1lID0ge1xuICAgIHBhbGV0dGU6IHtcbiAgICAgICAgcHJpbWFyeToge1xuICAgICAgICAgICAgbWFpbjogQVBQX1BSSU1BUllfQ09MT1IsXG4gICAgICAgICAgICBkYXJrOiBncmVlbls3MDBdLFxuICAgICAgICAgICAgbGlnaHQ6IGdyZWVuWzMwMF0sXG4gICAgICAgICAgICBjb250cmFzdFRleHQ6IEFQUF9URVhUX0NPTE9SLFxuICAgICAgICB9LFxuICAgICAgICBzZWNvbmRhcnk6IHtcbiAgICAgICAgICAgIG1haW46ICcjZDMyZjJmJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnI2ViNDI0MicsXG4gICAgICAgICAgICBkYXJrOiAnIzk0MTIxMicsXG4gICAgICAgICAgICBjb250cmFzdFRleHQ6IEFQUF9URVhUX0NPTE9SLFxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiB7XG4gICAgICAgICAgICBtYWluOiAnIzIxOTZmMycsXG4gICAgICAgICAgICBjb250cmFzdFRleHQ6IEFQUF9URVhUX0NPTE9SLFxuICAgICAgICB9LFxuICAgIH0sXG59O1xuIiwiaW1wb3J0IHsgQm94LCBMaXN0SXRlbSwgTGlzdCwgTGlzdFN1YmhlYWRlciwgQ29sbGFwc2UsIEljb25CdXR0b24sIExpc3RJdGVtVGV4dCwgfSBmcm9tICdAbXVpL21hdGVyaWFsJztcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQaG9uZUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9QaG9uZSc7XG5pbXBvcnQgZmV0Y2hOdWkgZnJvbSAnLi4vdXRpbHMvZmV0Y2hOdWknO1xuZXhwb3J0IHZhciBQbGF5ZXJzTGlzdCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBwbGF5ZXJzID0gX2EucGxheWVycywgaXNEYXJrTW9kZSA9IF9hLmlzRGFya01vZGU7XG4gICAgdmFyIF9iID0gdXNlU3RhdGUobnVsbCksIGNvbGxhcHNlSWQgPSBfYlswXSwgc2V0Q29sbGFwc2VJZCA9IF9iWzFdO1xuICAgIHZhciBleHBhbmRJdGVtID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHNldENvbGxhcHNlSWQoaWQpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZUNhbGxQbGF5ZXIgPSBmdW5jdGlvbiAobnVtYmVyKSB7XG4gICAgICAgIGZldGNoTnVpKCducHdkOnFiLXNlcnZpY2VzOmNhbGxQbGF5ZXInLCB7IG51bWJlcjogbnVtYmVyIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIG51bGwsIE9iamVjdC5rZXlzKHBsYXllcnMpLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0LCB7IHN1YmhlYWRlcjogUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0U3ViaGVhZGVyLCB7IHN4OiB7IGN1cnNvcjogJ3BvaW50ZXInIH0sIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4cGFuZEl0ZW0oa2V5KTsgfSB9LCBrZXkudG9VcHBlckNhc2UoKSkgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb2xsYXBzZSwgeyBpbjogY29sbGFwc2VJZCA9PT0ga2V5IH0sIHBsYXllcnNba2V5XS5tYXAoZnVuY3Rpb24gKHBsYXllcikge1xuICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtLCB7IHNlY29uZGFyeUFjdGlvbjogUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhbmRsZUNhbGxQbGF5ZXIocGxheWVyLnBob25lTnVtYmVyKTsgfSB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFBob25lSWNvbiwgbnVsbCkpIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbVRleHQsIHsgcHJpbWFyeVR5cG9ncmFwaHlQcm9wczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzRGFya01vZGUgPyAnI2ZmZicgOiAnIzAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sIHByaW1hcnk6IHBsYXllci5uYW1lLCBzZWNvbmRhcnk6IHBsYXllci5waG9uZU51bWJlciB9KSkpO1xuICAgICAgICB9KSkpKTsgfSkpKTtcbn07XG4iLCJpbXBvcnQgc3R5bGVkIGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xuZXhwb3J0IHZhciBIZWFkZXIgPSBzdHlsZWQoJ2RpdicpKHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGdhcDogMjAsXG4gICAgbWFyZ2luQm90dG9tOiAyMCxcbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbi8qKlxuICogU2ltcGxlIHdyYXBwZXIgYXJvdW5kIGZldGNoIEFQSSB0YWlsb3JlZCBmb3IgQ0VGL05VSSB1c2UuXG4gKiBAcGFyYW0gZXZlbnROYW1lIC0gVGhlIGVuZHBvaW50IGV2ZW50bmFtZSB0byB0YXJnZXRcbiAqIEBwYXJhbSBkYXRhIC0gRGF0YSB5b3Ugd2lzaCB0byBzZW5kIGluIHRoZSBOVUkgQ2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJuIHJldHVybkRhdGEgLSBBIHByb21pc2UgZm9yIHRoZSBkYXRhIHNlbnQgYmFjayBieSB0aGUgTnVpQ2FsbGJhY2tzIENCIGFyZ3VtZW50XG4gKi9cbmltcG9ydCB7IGlzRW52QnJvd3NlciB9IGZyb20gJy4vbWlzYyc7XG5mdW5jdGlvbiBmZXRjaE51aShldmVudE5hbWUsIGRhdGEsIG1vY2tSZXNwKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3B0aW9ucywgcmVzb3VyY2VOYW1lLCByZXNwLCByZXNwb25zZU9iajtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0VudkJyb3dzZXIoKSAmJiBtb2NrUmVzcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG1vY2tSZXNwXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU5hbWUgPSBcIm5wd2RfcWJfc2VydmljZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2goXCJodHRwczovL1wiLmNvbmNhdChyZXNvdXJjZU5hbWUsIFwiL1wiKS5jb25jYXQoZXZlbnROYW1lKSwgb3B0aW9ucyldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcC5qc29uKCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPYmogPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwb25zZU9ial07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgZmV0Y2hOdWk7XG4iLCJleHBvcnQgdmFyIGlzRW52QnJvd3NlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgIXdpbmRvdy5pbnZva2VOYXRpdmU7XG59O1xuZXhwb3J0IHZhciBnZXRSZXNvdXJjZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5HZXRQYXJlbnRSZXNvdXJjZU5hbWUgPyB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuR2V0UGFyZW50UmVzb3VyY2VOYW1lKCkgOiAnbnB3ZCc7XG59O1xuZXhwb3J0IHZhciBidWlsZFJlc3BPYmogPSBmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBlcnJvck1zZykgeyByZXR1cm4gKHtcbiAgICBkYXRhOiBkYXRhLFxuICAgIHN0YXR1czogc3RhdHVzLFxuICAgIGVycm9yTXNnOiBlcnJvck1zZyxcbn0pOyB9O1xuIl0sIm5hbWVzIjpbIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJleHBvcnRzIiwiX2NyZWF0ZVN2Z0ljb24iLCJfanN4UnVudGltZSIsIl9kZWZhdWx0IiwiZGVmYXVsdCIsImpzeCIsImQiLCJTZXJ2aWNlc0ljb24iLCJmb250U2l6ZSIsImV4dGVybmFsQXBwQ29uZmlnIiwiaWQiLCJuYW1lTG9jYWxlIiwiY29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYXRoIiwiaWNvbiIsImFwcCIsInRoZW1lIiwiY29va2VkIiwicmF3IiwiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIkNvbnRhaW5lciIsInRlbXBsYXRlT2JqZWN0XzEiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX2EiLCJpc0RhcmtNb2RlIiwiQXBwIiwicHJvcHMiLCJoaXN0b3J5IiwidXNlSGlzdG9yeSIsInVzZVN0YXRlIiwicGxheWVycyIsInNldFBsYXllcnMiLCJfYiIsIm1hcHBlZFBsYXllcnMiLCJzZXRNYXBwZWRQbGF5ZXJzIiwicGFsZXR0ZSIsIm1vZGUiLCJ1c2VFZmZlY3QiLCJ0aGVuIiwicmVzcCIsImRhdGEiLCJtYXBwZWRQbGF5ZXIiLCJyZWR1Y2UiLCJwbGF5ZXJzR3JvdXAiLCJwbGF5ZXIiLCJqb2IiLCJwdXNoIiwiaW5qZWN0Rmlyc3QiLCJvbkNsaWNrIiwiZ29CYWNrIiwiZm9udFdlaWdodCIsIk51aVByb3ZpZGVyIiwiQVBQX1BSSU1BUllfQ09MT1IiLCJBUFBfVEVYVF9DT0xPUiIsInByaW1hcnkiLCJtYWluIiwiZGFyayIsImxpZ2h0IiwiY29udHJhc3RUZXh0Iiwic2Vjb25kYXJ5Iiwic3VjY2VzcyIsIlBsYXllcnNMaXN0IiwiY29sbGFwc2VJZCIsInNldENvbGxhcHNlSWQiLCJrZXlzIiwibWFwIiwia2V5Iiwic3ViaGVhZGVyIiwic3giLCJjdXJzb3IiLCJ0b1VwcGVyQ2FzZSIsImluIiwic2Vjb25kYXJ5QWN0aW9uIiwibnVtYmVyIiwicGhvbmVOdW1iZXIiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwicHJpbWFyeVR5cG9ncmFwaHlQcm9wcyIsIm5hbWUiLCJIZWFkZXIiLCJ3aWR0aCIsImp1c3RpZnlDb250ZW50IiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJtYXJnaW5Cb3R0b20iLCJldmVudE5hbWUiLCJtb2NrUmVzcCIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwib3B0aW9ucyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJkb25lIiwicG9wIiwiZSIsInN0ZXAiLCJfX2dlbmVyYXRvciIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5IiwiZmV0Y2giLCJjb25jYXQiLCJqc29uIiwiUCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJpc0VudkJyb3dzZXIiXSwic291cmNlUm9vdCI6IiJ9