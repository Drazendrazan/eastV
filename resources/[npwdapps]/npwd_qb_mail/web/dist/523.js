"use strict";(self.webpackChunknpwd_qb_mail=self.webpackChunknpwd_qb_mail||[]).push([[523],{8320:(e,t,n)=>{n.d(t,{Y8:()=>u,LT:()=>d,JV:()=>p,Wu:()=>c,Ng:()=>s,YQ:()=>f});var r=n(5137),a=[{mailid:2,sender:"Eduardo",subject:"Delivery Location",message:"Here is all info about the delivery, <br><br>Items: <br> 1x Weed Brick<br><br> Be on time!!",read:0,date:1660745412e3,button:{buttonEvent:"qb-drugs:client:setLocation",enabled:!0,buttonData:{dealer:"Eduardo",itemData:{minrep:0,item:"weed_brick"},amount:2,locationLabel:"DR Kush",coords:{x:-1151.9300537109375,y:-1447.5899658203125,z:4.71000003814697}}}},{mailid:1,sender:"Billing Department",subject:"Invoice Paid",message:"Invoice Has Been Paid From Sienna Dunlap In The Amount Of $425",read:1,date:1660653186e3}],i=n(5181),o=n(7405),l={mailItems:(0,r.atom)({key:"mailItem",default:(0,r.selector)({key:"defaultMailItems",get:function(){return e=void 0,t=void 0,r=function(){var e,t;return function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,o.Z)("npwd:qb-mail:getMail")];case 1:return(e=n.sent()).data?[2,e.data]:(console.log("no response data"),[2,[]]);case 2:return t=n.sent(),(0,i.Id)()?[2,a]:(console.error(t),[2,[]]);case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r}})}),selectedMail:(0,r.atom)({key:"selectedMail",default:null}),modalVisibile:(0,r.atom)({key:"mailModalVisible",default:!1})},u=function(){return(0,r.useRecoilValue)(l.mailItems)},c=function(){return(0,r.useSetRecoilState)(l.mailItems)},s=function(){return(0,r.useSetRecoilState)(l.modalVisibile)},d=function(){return(0,r.useRecoilState)(l.modalVisibile)},f=function(){return(0,r.useSetRecoilState)(l.selectedMail)},p=function(){return(0,r.useRecoilState)(l.selectedMail)}},1551:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(2950),a=n.n(r),i=n(4274),o=n(1508),l=n(2658);const u=function(){return a().createElement(o.Z,{px:2,pt:2,sx:{width:"100%",textAlign:"left",backgroundColor:i.A1}},a().createElement(l.Z,{sx:{color:i.Iw},paragraph:!0,variant:"h5"},"Mail"))}},620:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(2950),a=n.n(r),i=n(1508),o=n(2658),l=n(2440),u=n(5266),c=n(8320),s=n(870),d=n(5475),f=n(4766),p=n(4274);const m=function(e){var t=e.isDarkMode,n=(0,c.Y8)(),m=(0,c.YQ)(),h=(0,c.Ng)(),b=(0,s.F)().updateRead,v=(0,f.C)().newMail,y=(0,d.useNuiEvent)({event:"npwd:qb-mail:newMail"}).data;return(0,r.useEffect)((function(){y&&v(y[0])}),[y]),n&&0!==n.length?a().createElement(l.Z,{disablePadding:!0},n.map((function(e){return a().createElement(u.ZP,{key:e.mailid,button:!0,divider:!0,onClick:function(){return function(e){e.read||b(e.mailid),m(e),h(!0)}(e)}},0===e.read?a().createElement(i.Z,{sx:{bgcolor:"#4260f5",borderRadius:"10px",minWidth:"8px",minHeight:"8px",marginRight:"10px"}}):a().createElement(i.Z,{sx:{borderRadius:"10px",minWidth:"8px",minHeight:"8px",marginRight:"10px"}}),a().createElement(i.Z,{sx:{display:"flex",flexDirection:"column",width:"100%"}},a().createElement(i.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},a().createElement(o.Z,{sx:{fontWeight:"500",color:t?"#fff":"#000"}},e.sender),a().createElement(i.Z,{sx:{display:"flex",flexDirection:"column"}},a().createElement(o.Z,{sx:{color:"#dedede",fontSize:"13px"}},(n=e.date,("0"+(r=new Date(n)).getDate()).slice(-2)+"/"+("0"+(r.getMonth()+1)).slice(-2)+"/"+r.getFullYear())))),a().createElement(o.Z,{sx:{color:t?"#fff":"#000"}},e.subject)));var n,r}))):a().createElement(i.Z,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%"},a().createElement(o.Z,{variant:"h6",style:{fontWeight:300,color:p.Iw}},"You have no mail"))}},4530:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(2950),a=n.n(r),i=n(8320),o=n(4776),l=n(6501),u=n(6089),c=n(1508),s=n(6914),d=n(2658),f=n(2116),p=n(1023),m=n(5181),h=n(870),b=n(2265),v=n.n(b);const y=function(){var e=(0,i.LT)(),t=e[0],n=e[1],r=(0,i.JV)(),b=r[0],y=r[1],x=(0,h.F)(),g=x.deleteMail,w=x.updateMailButton;if(null===b)return null;var E=v()(b.message,{whiteList:{br:[]}});return a().createElement(o.Z,{direction:"left",in:t,mountOnEnter:!0,unmountOnExit:!0,onExited:function(){y(null)}},a().createElement(l.Z,{sx:{position:"absolute",zIndex:20,height:"100%",width:"100%"},square:!0},a().createElement(u.Z,{sx:{height:"100%"}},a().createElement(c.Z,{sx:{height:"100%"}},a().createElement(c.Z,{pt:2,pb:1},a().createElement(s.Z,{color:"secondary",size:"large",startIcon:a().createElement(p.Z,{fontSize:"large"}),onClick:function(){n(!1)}},"INBOX")),a().createElement(c.Z,{pl:1,pb:"12px"},a().createElement(d.Z,{sx:{fontSize:"20px",fontWeight:500}},b.sender),a().createElement(d.Z,{sx:{fontSize:"19px"}},b.subject),b.date&&a().createElement(d.Z,{sx:{fontSize:"15px",color:"#dedede"}},(0,m.ur)(b.date))),a().createElement(f.Z,null),b.message&&a().createElement(c.Z,{pl:1,pt:"12px",sx:{fontSize:"18px",height:"70%"},dangerouslySetInnerHTML:{__html:E}}),a().createElement(c.Z,{display:"inline",p:1,sx:{display:"flex",gap:"15px",justifyContent:"center"}},void 0!==b.button&&null!==b.button&&a().createElement(s.Z,{color:"success",variant:"contained",onClick:function(){w({mailid:b.mailid,button:b.button}).then((function(){n(!1)})).catch(console.error)}},"ACCEPT"),a().createElement(s.Z,{color:"error",variant:"contained",onClick:function(){g(b.mailid).then((function(){n(!1)})).catch(console.error)}},"DELETE"))))))}},870:(e,t,n)=>{n.d(t,{F:()=>c});var r=n(2950),a=n(721),i=n(4766),o=n(7405),l=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{u(r.next(e))}catch(e){i(e)}}function l(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},c=function(){var e=(0,a.D)().addAlert,t=(0,i.C)(),n=t.updateReadState,c=t.deleteLocalMail,s=t.updateLocalButton,d=(0,r.useCallback)((function(e){return l(void 0,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,(0,o.Z)("npwd:qb-mail:updateRead",e)];case 1:return t.sent(),n(e),[2]}}))}))}),[n]),f=(0,r.useCallback)((function(t){return l(void 0,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,(0,o.Z)("npwd:qb-mail:deleteMail",t)];case 1:return"ok"!==n.sent().status?[2,e({message:"Failed to delete mail",type:"error"})]:(c(t),e({message:"Successfully deleted mail",type:"success"}),[2])}}))}))}),[e,c]),p=(0,r.useCallback)((function(t){var n=t.mailid,r=t.button;return l(void 0,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,(0,o.Z)("npwd:qb-mail:updateButton",{mailid:n,button:r})];case 1:return"ok"!==t.sent().status?[2,e({message:"Failed to accept mail",type:"error"})]:(s(n),e({message:"Successfully accepted mail",type:"success"}),[2])}}))}))}),[e,s]);return{updateRead:d,deleteMail:f,updateMailButton:p}}},4766:(e,t,n)=>{n.d(t,{C:()=>l});var r=n(8320),a=n(2950),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},o=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},l=function(){var e=(0,r.Wu)(),t=(0,a.useCallback)((function(t){e((function(e){return e.map((function(e){return e.mailid===t?i(i({},e),{read:1}):e}))}))}),[e]),n=(0,a.useCallback)((function(t){e((function(e){return o([t],e,!0)}))}),[e]),l=(0,a.useCallback)((function(t){e((function(e){var n=e.findIndex((function(e){return e.mailid===t})),r=o([],e,!0);return r[n].button=null,r}))}),[e]);return{updateReadState:t,deleteLocalMail:(0,a.useCallback)((function(t){e((function(e){return o([],e,!0).filter((function(e){return e.mailid!==t}))}))}),[e]),updateLocalButton:l,newMail:n}}},4714:(e,t,n)=>{n.d(t,{v:()=>d});var r=n(2950),a=n.n(r),i=n(5282),o=n(721),l=n(442),u=n(2658),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const s=(0,r.forwardRef)((function(e,t){return a().createElement(l.Z,c({sx:{zIndex:1e4},elevation:4,variant:"filled"},e,{ref:t}),a().createElement(u.Z,{sx:{maxWidth:"300px",wordWrap:"break-word",fontSize:"1.1em"}},e.children))}));var d=function(){var e,t=(0,o.D)(),n=t.alert,r=t.isOpen,l=t.handleClose;return a().createElement(i.Z,{autoHideDuration:null!==(e=null==n?void 0:n.duration)&&void 0!==e?e:3e3,open:r,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"auto",position:"absolute",bottom:75,left:"0 !important",right:"0 !important"},onClose:l},a().createElement(s,{severity:(null==n?void 0:n.type)||"info",onClose:l},(null==n?void 0:n.message)||""))}},602:(e,t,n)=>{n.d(t,{S:()=>i,Z:()=>o});var r=n(2950),a=n.n(r),i=(0,r.createContext)(null);const o=function(e){var t=e.children,n=(0,r.useState)(!1),o=n[0],l=n[1],u=(0,r.useState)(null),c=u[0],s=u[1];return a().createElement(i.Provider,{value:{alert:c,addAlert:function(e){s(e),l(!0)},handleClose:function(){l(!1)},isOpen:o}},t)}},721:(e,t,n)=>{n.d(t,{D:()=>i});var r=n(2950),a=n(602),i=function(){return(0,r.useContext)(a.S)}},7405:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(5181);const a=function(e,t,n){return a=this,i=void 0,l=function(){var a;return function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(i){switch(i.label){case 0:return a={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)},(0,r.Id)()&&n?[2,n]:[4,fetch("https://".concat("npwd_qb_mail","/").concat(e),a)];case 1:return[4,i.sent().json()];case 2:return[2,i.sent()]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{u(l.next(e))}catch(e){t(e)}}function r(e){try{u(l.throw(e))}catch(e){t(e)}}function u(t){var a;t.done?e(t.value):(a=t.value,a instanceof o?a:new o((function(e){e(a)}))).then(n,r)}u((l=l.apply(a,i||[])).next())}));var a,i,o,l}},5181:(e,t,n)=>{n.d(t,{Id:()=>r,ur:()=>i});var r=function(){return!1},a=["January","February","March","April","May","June","July","August","September","October","November","December"],i=function(e){var t=new Date(e);return t.getDay()+" "+a[t.getMonth()]+" "+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVlxQyxFQUFHcEMsSSwwQ0NBdkUsSUFBSXNNLEVBQWUsV0FDdEIsT0FBTyxHQVVQQyxFQUFrQixDQUNsQixVQUNBLFdBQ0EsUUFDQSxRQUNBLE1BQ0EsT0FDQSxPQUNBLFNBQ0EsWUFDQSxVQUNBLFdBQ0EsWUFFT0MsRUFBYSxTQUFVQyxHQUM5QixJQUFJak8sRUFBTyxJQUFJbUgsS0FBSzhHLEdBQ3BCLE9BQVFqTyxFQUFLa08sU0FDVCxJQUNBSCxFQUFnQi9OLEVBQUtzSCxZQUNyQixJQUNBdEgsRUFBS3VILGNBQ0wsSUFDQXZILEVBQUttTyxXQUNMLElBQ0FuTyxFQUFLb08iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ucHdkX3FiX21haWwvLi9zcmMvdXRpbHMvY29uc3RhbnRzLnRzIiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy9hdG9tcy9tYWlsLWF0b21zLnRzIiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy9jb21wb25lbnRzL0hlYWRlci50c3giLCJ3ZWJwYWNrOi8vbnB3ZF9xYl9tYWlsLy4vc3JjL2NvbXBvbmVudHMvTWFpbExpc3QudHN4Iiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy9jb21wb25lbnRzL01haWxNb2RhbC50c3giLCJ3ZWJwYWNrOi8vbnB3ZF9xYl9tYWlsLy4vc3JjL2hvb2tzL3VzZU1haWxBUEkudHMiLCJ3ZWJwYWNrOi8vbnB3ZF9xYl9tYWlsLy4vc3JjL2hvb2tzL3VzZU1haWxBY3Rpb25zLnRzIiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy9zbmFja2Jhci9BbGVydC50c3giLCJ3ZWJwYWNrOi8vbnB3ZF9xYl9tYWlsLy4vc3JjL3NuYWNrYmFyL1Bob25lU25hY2tiYXIudHN4Iiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy9zbmFja2Jhci9TbmFja2JhclByb3ZpZGVyLnRzeCIsIndlYnBhY2s6Ly9ucHdkX3FiX21haWwvLi9zcmMvc25hY2tiYXIvdXNlU25hY2tiYXIudHMiLCJ3ZWJwYWNrOi8vbnB3ZF9xYl9tYWlsLy4vc3JjL3V0aWxzL2ZldGNoTnVpLnRzIiwid2VicGFjazovL25wd2RfcWJfbWFpbC8uL3NyYy91dGlscy9taXNjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgTW9ja01haWwgPSBbXG4gICAge1xuICAgICAgICBtYWlsaWQ6IDIsXG4gICAgICAgIHNlbmRlcjogJ0VkdWFyZG8nLFxuICAgICAgICBzdWJqZWN0OiAnRGVsaXZlcnkgTG9jYXRpb24nLFxuICAgICAgICBtZXNzYWdlOiAnSGVyZSBpcyBhbGwgaW5mbyBhYm91dCB0aGUgZGVsaXZlcnksIDxicj48YnI+SXRlbXM6IDxicj4gMXggV2VlZCBCcmljazxicj48YnI+IEJlIG9uIHRpbWUhIScsXG4gICAgICAgIHJlYWQ6IDAsXG4gICAgICAgIGRhdGU6IDE2NjA3NDU0MTIwMDAsXG4gICAgICAgIGJ1dHRvbjoge1xuICAgICAgICAgICAgYnV0dG9uRXZlbnQ6ICdxYi1kcnVnczpjbGllbnQ6c2V0TG9jYXRpb24nLFxuICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIGJ1dHRvbkRhdGE6IHtcbiAgICAgICAgICAgICAgICBkZWFsZXI6ICdFZHVhcmRvJyxcbiAgICAgICAgICAgICAgICBpdGVtRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBtaW5yZXA6IDAsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW06ICd3ZWVkX2JyaWNrJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFtb3VudDogMixcbiAgICAgICAgICAgICAgICBsb2NhdGlvbkxhYmVsOiAnRFIgS3VzaCcsXG4gICAgICAgICAgICAgICAgY29vcmRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IC0xMTUxLjkzMDA1MzcxMDkzNzUsXG4gICAgICAgICAgICAgICAgICAgIHk6IC0xNDQ3LjU4OTk2NTgyMDMxMjUsXG4gICAgICAgICAgICAgICAgICAgIHo6IDQuNzEwMDAwMDM4MTQ2OTcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG1haWxpZDogMSxcbiAgICAgICAgc2VuZGVyOiAnQmlsbGluZyBEZXBhcnRtZW50JyxcbiAgICAgICAgc3ViamVjdDogJ0ludm9pY2UgUGFpZCcsXG4gICAgICAgIG1lc3NhZ2U6ICdJbnZvaWNlIEhhcyBCZWVuIFBhaWQgRnJvbSBTaWVubmEgRHVubGFwIEluIFRoZSBBbW91bnQgT2YgJDQyNScsXG4gICAgICAgIHJlYWQ6IDEsXG4gICAgICAgIGRhdGU6IDE2NjA2NTMxODYwMDAuMCxcbiAgICB9LFxuXTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG5pbXBvcnQgeyBhdG9tLCBzZWxlY3RvciwgdXNlUmVjb2lsU3RhdGUsIHVzZVJlY29pbFZhbHVlLCB1c2VTZXRSZWNvaWxTdGF0ZSB9IGZyb20gJ3JlY29pbCc7XG5pbXBvcnQgeyBNb2NrTWFpbCB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc0VudkJyb3dzZXIgfSBmcm9tICcuLi91dGlscy9taXNjJztcbmltcG9ydCBmZXRjaE51aSBmcm9tICcuLi91dGlscy9mZXRjaE51aSc7XG5leHBvcnQgdmFyIG1haWxTdGF0ZXMgPSB7XG4gICAgbWFpbEl0ZW1zOiBhdG9tKHtcbiAgICAgICAga2V5OiAnbWFpbEl0ZW0nLFxuICAgICAgICBkZWZhdWx0OiBzZWxlY3Rvcih7XG4gICAgICAgICAgICBrZXk6ICdkZWZhdWx0TWFpbEl0ZW1zJyxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcCwgZV8xO1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgMiwgLCAzXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2hOdWkoJ25wd2Q6cWItbWFpbDpnZXRNYWlsJyldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25vIHJlc3BvbnNlIGRhdGEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFtdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3AuZGF0YV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0VudkJyb3dzZXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgTW9ja01haWxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFtdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTsgfSxcbiAgICAgICAgfSksXG4gICAgfSksXG4gICAgc2VsZWN0ZWRNYWlsOiBhdG9tKHtcbiAgICAgICAga2V5OiAnc2VsZWN0ZWRNYWlsJyxcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICB9KSxcbiAgICBtb2RhbFZpc2liaWxlOiBhdG9tKHtcbiAgICAgICAga2V5OiAnbWFpbE1vZGFsVmlzaWJsZScsXG4gICAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgIH0pLFxufTtcbmV4cG9ydCB2YXIgdXNlTWFpbHNWYWx1ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVzZVJlY29pbFZhbHVlKG1haWxTdGF0ZXMubWFpbEl0ZW1zKTsgfTtcbmV4cG9ydCB2YXIgdXNlU2V0TWFpbCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVzZVNldFJlY29pbFN0YXRlKG1haWxTdGF0ZXMubWFpbEl0ZW1zKTsgfTtcbmV4cG9ydCB2YXIgdXNlU2V0TW9kYWxWaXNpYmxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdXNlU2V0UmVjb2lsU3RhdGUobWFpbFN0YXRlcy5tb2RhbFZpc2liaWxlKTsgfTtcbmV4cG9ydCB2YXIgdXNlTW9kYWxWaXNpYmxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdXNlUmVjb2lsU3RhdGUobWFpbFN0YXRlcy5tb2RhbFZpc2liaWxlKTsgfTtcbmV4cG9ydCB2YXIgdXNlU2V0U2VsZWN0ZWRNYWlsID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdXNlU2V0UmVjb2lsU3RhdGUobWFpbFN0YXRlcy5zZWxlY3RlZE1haWwpOyB9O1xuZXhwb3J0IHZhciB1c2VTZWxlY3RlZE1haWwgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1c2VSZWNvaWxTdGF0ZShtYWlsU3RhdGVzLnNlbGVjdGVkTWFpbCk7IH07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTUFJTF9BUFBfUFJJTUFSWV9DT0xPUiwgTUFJTF9BUFBfVEVYVF9DT0xPUiB9IGZyb20gJy4uL2FwcC50aGVtZSc7XG5pbXBvcnQgeyBUeXBvZ3JhcGh5LCBCb3ggfSBmcm9tICdAbXVpL21hdGVyaWFsJztcbnZhciBIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBweDogMiwgcHQ6IDIsIHN4OiB7IHdpZHRoOiAnMTAwJScsIHRleHRBbGlnbjogJ2xlZnQnLCBiYWNrZ3JvdW5kQ29sb3I6IE1BSUxfQVBQX1BSSU1BUllfQ09MT1IgfSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIHsgc3g6IHsgY29sb3I6IE1BSUxfQVBQX1RFWFRfQ09MT1IgfSwgcGFyYWdyYXBoOiB0cnVlLCB2YXJpYW50OiAnaDUnIH0sIFwiTWFpbFwiKSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3gsIExpc3QsIExpc3RJdGVtLCBUeXBvZ3JhcGh5IH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XG5pbXBvcnQgeyB1c2VNYWlsc1ZhbHVlLCB1c2VTZXRTZWxlY3RlZE1haWwsIHVzZVNldE1vZGFsVmlzaWJsZSB9IGZyb20gJy4uL2F0b21zL21haWwtYXRvbXMnO1xuaW1wb3J0IHsgdXNlTWFpbEFQSSB9IGZyb20gJy4uL2hvb2tzL3VzZU1haWxBUEknO1xuaW1wb3J0IHsgdXNlTnVpRXZlbnQgfSBmcm9tICdyZWFjdC1maXZlbS1ob29rcyc7XG5pbXBvcnQgeyB1c2VNYWlsQWN0aW9ucyB9IGZyb20gJy4uL2hvb2tzL3VzZU1haWxBY3Rpb25zJztcbmltcG9ydCB7IE1BSUxfQVBQX1RFWFRfQ09MT1IgfSBmcm9tICcuLi9hcHAudGhlbWUnO1xudmFyIE1haWxMaXN0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGlzRGFya01vZGUgPSBfYS5pc0RhcmtNb2RlO1xuICAgIHZhciBtYWlscyA9IHVzZU1haWxzVmFsdWUoKTtcbiAgICB2YXIgc2V0TWFpbCA9IHVzZVNldFNlbGVjdGVkTWFpbCgpO1xuICAgIHZhciBzZXRNb2RhbFZpc2libGUgPSB1c2VTZXRNb2RhbFZpc2libGUoKTtcbiAgICB2YXIgdXBkYXRlUmVhZCA9IHVzZU1haWxBUEkoKS51cGRhdGVSZWFkO1xuICAgIHZhciBuZXdNYWlsID0gdXNlTWFpbEFjdGlvbnMoKS5uZXdNYWlsO1xuICAgIHZhciBkYXRhID0gdXNlTnVpRXZlbnQoeyBldmVudDogJ25wd2Q6cWItbWFpbDpuZXdNYWlsJyB9KS5kYXRhO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICBuZXdNYWlsKGRhdGFbMF0pO1xuICAgICAgICB9XG4gICAgfSwgW2RhdGFdKTtcbiAgICB2YXIgaGFuZGxlTWFpbE1vZGFsID0gZnVuY3Rpb24gKG1haWwpIHtcbiAgICAgICAgaWYgKCFtYWlsLnJlYWQpIHtcbiAgICAgICAgICAgIHVwZGF0ZVJlYWQobWFpbC5tYWlsaWQpO1xuICAgICAgICB9XG4gICAgICAgIHNldE1haWwobWFpbCk7XG4gICAgICAgIHNldE1vZGFsVmlzaWJsZSh0cnVlKTtcbiAgICB9O1xuICAgIHZhciBtYWlsRGF0ZSA9IGZ1bmN0aW9uIChkYXRlRGF0YSkge1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKGRhdGVEYXRhKTtcbiAgICAgICAgcmV0dXJuICgoJzAnICsgZGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKSArXG4gICAgICAgICAgICAnLycgK1xuICAgICAgICAgICAgKCcwJyArIChkYXRlLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpICtcbiAgICAgICAgICAgICcvJyArXG4gICAgICAgICAgICBkYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgIH07XG4gICAgaWYgKCFtYWlscyB8fCBtYWlscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBkaXNwbGF5OiBcImZsZXhcIiwganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGhlaWdodDogXCIxMDAlXCIgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyB2YXJpYW50OiBcImg2XCIsIHN0eWxlOiB7IGZvbnRXZWlnaHQ6IDMwMCwgY29sb3I6IE1BSUxfQVBQX1RFWFRfQ09MT1IgfSB9LCBcIllvdSBoYXZlIG5vIG1haWxcIikpKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpc3QsIHsgZGlzYWJsZVBhZGRpbmc6IHRydWUgfSwgbWFpbHMubWFwKGZ1bmN0aW9uIChtYWlsKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbSwgeyBrZXk6IG1haWwubWFpbGlkLCBidXR0b246IHRydWUsIGRpdmlkZXI6IHRydWUsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhbmRsZU1haWxNb2RhbChtYWlsKTsgfSB9LFxuICAgICAgICBtYWlsLnJlYWQgPT09IDAgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgc3g6IHtcbiAgICAgICAgICAgICAgICBiZ2NvbG9yOiAnIzQyNjBmNScsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgbWluV2lkdGg6ICc4cHgnLFxuICAgICAgICAgICAgICAgIG1pbkhlaWdodDogJzhweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6ICcxMHB4JyxcbiAgICAgICAgICAgIH0gfSkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IHN4OiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgbWluV2lkdGg6ICc4cHgnLFxuICAgICAgICAgICAgICAgIG1pbkhlaWdodDogJzhweCcsXG4gICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6ICcxMHB4JyxcbiAgICAgICAgICAgIH0gfSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBzeDogeyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCB3aWR0aDogJzEwMCUnIH0gfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IHN4OiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyBzeDogeyBmb250V2VpZ2h0OiAnNTAwJywgY29sb3I6IGlzRGFya01vZGUgPyAnI2ZmZicgOiAnIzAwMCcgfSB9LCBtYWlsLnNlbmRlciksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgc3g6IHsgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyBzeDogeyBjb2xvcjogJyNkZWRlZGUnLCBmb250U2l6ZTogJzEzcHgnIH0gfSwgbWFpbERhdGUobWFpbC5kYXRlKSkpKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyBzeDogeyBjb2xvcjogaXNEYXJrTW9kZSA/ICcjZmZmJyA6ICcjMDAwJyB9IH0sIG1haWwuc3ViamVjdCkpKSk7IH0pKSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgTWFpbExpc3Q7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlTW9kYWxWaXNpYmxlLCB1c2VTZWxlY3RlZE1haWwgfSBmcm9tICcuLi9hdG9tcy9tYWlsLWF0b21zJztcbmltcG9ydCB7IEJ1dHRvbiwgU2xpZGUsIFBhcGVyLCBUeXBvZ3JhcGh5LCBDb250YWluZXIsIEJveCwgRGl2aWRlciB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IEFycm93QmFja0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9BcnJvd0JhY2snO1xuaW1wb3J0IHsgZGF0ZVN0cmluZyB9IGZyb20gJy4uL3V0aWxzL21pc2MnO1xuaW1wb3J0IHsgdXNlTWFpbEFQSSB9IGZyb20gJy4uL2hvb2tzL3VzZU1haWxBUEknO1xuaW1wb3J0IHhzcyBmcm9tICd4c3MnO1xudmFyIE1haWxNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2EgPSB1c2VNb2RhbFZpc2libGUoKSwgbW9kYWxWaXNpYmxlID0gX2FbMF0sIHNldE1vZGFsVmlzaWJsZSA9IF9hWzFdO1xuICAgIHZhciBfYiA9IHVzZVNlbGVjdGVkTWFpbCgpLCBzZWxlY3RlZE1haWwgPSBfYlswXSwgc2V0c2VsZWN0ZWRNYWlsID0gX2JbMV07XG4gICAgdmFyIF9jID0gdXNlTWFpbEFQSSgpLCBkZWxldGVNYWlsID0gX2MuZGVsZXRlTWFpbCwgdXBkYXRlTWFpbEJ1dHRvbiA9IF9jLnVwZGF0ZU1haWxCdXR0b247XG4gICAgaWYgKHNlbGVjdGVkTWFpbCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgdmFyIGhhbmRsZURlbGV0ZU1haWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZU1haWwoc2VsZWN0ZWRNYWlsLm1haWxpZClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldE1vZGFsVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfTtcbiAgICB2YXIgaGFuZGxlU3VibWl0QnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB1cGRhdGVNYWlsQnV0dG9uKHsgbWFpbGlkOiBzZWxlY3RlZE1haWwubWFpbGlkLCBidXR0b246IHNlbGVjdGVkTWFpbC5idXR0b24gfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldE1vZGFsVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfTtcbiAgICB2YXIgX2hhbmRsZUNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRNb2RhbFZpc2libGUoZmFsc2UpO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZUNsZWFyQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0c2VsZWN0ZWRNYWlsKG51bGwpO1xuICAgIH07XG4gICAgdmFyIHNhbml0aXplZE1lc3NhZ2UgPSB4c3Moc2VsZWN0ZWRNYWlsLm1lc3NhZ2UsIHtcbiAgICAgICAgd2hpdGVMaXN0OiB7XG4gICAgICAgICAgICBicjogW10sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFNsaWRlLCB7IGRpcmVjdGlvbjogXCJsZWZ0XCIsIGluOiBtb2RhbFZpc2libGUsIG1vdW50T25FbnRlcjogdHJ1ZSwgdW5tb3VudE9uRXhpdDogdHJ1ZSwgb25FeGl0ZWQ6IGhhbmRsZUNsZWFyQ29udGVudCB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFBhcGVyLCB7IHN4OiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgekluZGV4OiAyMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgfSwgc3F1YXJlOiB0cnVlIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lciwgeyBzeDogeyBoZWlnaHQ6ICcxMDAlJyB9IH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgc3g6IHsgaGVpZ2h0OiAnMTAwJScgfSB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBwdDogMiwgcGI6IDEgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7IGNvbG9yOiBcInNlY29uZGFyeVwiLCBzaXplOiBcImxhcmdlXCIsIHN0YXJ0SWNvbjogUmVhY3QuY3JlYXRlRWxlbWVudChBcnJvd0JhY2tJY29uLCB7IGZvbnRTaXplOiBcImxhcmdlXCIgfSksIG9uQ2xpY2s6IF9oYW5kbGVDbG9zZSB9LCBcIklOQk9YXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgcGw6IDEsIHBiOiAnMTJweCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyBzeDogeyBmb250U2l6ZTogJzIwcHgnLCBmb250V2VpZ2h0OiA1MDAgfSB9LCBzZWxlY3RlZE1haWwuc2VuZGVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyBzeDogeyBmb250U2l6ZTogJzE5cHgnIH0gfSwgc2VsZWN0ZWRNYWlsLnN1YmplY3QpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRNYWlsLmRhdGUgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyBzeDogeyBmb250U2l6ZTogJzE1cHgnLCBjb2xvcjogJyNkZWRlZGUnIH0gfSwgZGF0ZVN0cmluZyhzZWxlY3RlZE1haWwuZGF0ZSkpKSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGl2aWRlciwgbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTWFpbC5tZXNzYWdlICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBwbDogMSwgcHQ6ICcxMnB4Jywgc3g6IHsgZm9udFNpemU6ICcxOHB4JywgaGVpZ2h0OiAnNzAlJyB9LCBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IHNhbml0aXplZE1lc3NhZ2UgfSB9KSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IGRpc3BsYXk6IFwiaW5saW5lXCIsIHA6IDEsIHN4OiB7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAnMTVweCcsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1haWwuYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgc2VsZWN0ZWRNYWlsLmJ1dHRvbiAhPT0gbnVsbCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgY29sb3I6IFwic3VjY2Vzc1wiLCB2YXJpYW50OiBcImNvbnRhaW5lZFwiLCBvbkNsaWNrOiBoYW5kbGVTdWJtaXRCdXR0b24gfSwgXCJBQ0NFUFRcIikpLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgY29sb3I6IFwiZXJyb3JcIiwgdmFyaWFudDogXCJjb250YWluZWRcIiwgb25DbGljazogaGFuZGxlRGVsZXRlTWFpbCB9LCBcIkRFTEVURVwiKSkpKSkpKTtcbn07XG5leHBvcnQgZGVmYXVsdCBNYWlsTW9kYWw7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTbmFja2JhciB9IGZyb20gJy4uL3NuYWNrYmFyL3VzZVNuYWNrYmFyJztcbmltcG9ydCB7IHVzZU1haWxBY3Rpb25zIH0gZnJvbSAnLi91c2VNYWlsQWN0aW9ucyc7XG5pbXBvcnQgZmV0Y2hOdWkgZnJvbSAnLi4vdXRpbHMvZmV0Y2hOdWknO1xuZXhwb3J0IHZhciB1c2VNYWlsQVBJID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhZGRBbGVydCA9IHVzZVNuYWNrYmFyKCkuYWRkQWxlcnQ7XG4gICAgdmFyIF9hID0gdXNlTWFpbEFjdGlvbnMoKSwgdXBkYXRlUmVhZFN0YXRlID0gX2EudXBkYXRlUmVhZFN0YXRlLCBkZWxldGVMb2NhbE1haWwgPSBfYS5kZWxldGVMb2NhbE1haWwsIHVwZGF0ZUxvY2FsQnV0dG9uID0gX2EudXBkYXRlTG9jYWxCdXR0b247XG4gICAgdmFyIHVwZGF0ZVJlYWQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAobWFpbGlkKSB7IHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaE51aShcIm5wd2Q6cWItbWFpbDp1cGRhdGVSZWFkXCIsIG1haWxpZCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZWFkU3RhdGUobWFpbGlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTsgfSwgW3VwZGF0ZVJlYWRTdGF0ZV0pO1xuICAgIHZhciBkZWxldGVNYWlsID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG1haWxpZCkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3A7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoTnVpKFwibnB3ZDpxYi1tYWlsOmRlbGV0ZU1haWxcIiwgbWFpbGlkKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICByZXNwID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5zdGF0dXMgIT09ICdvaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBhZGRBbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZGVsZXRlIG1haWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWxldGVMb2NhbE1haWwobWFpbGlkKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1N1Y2Nlc3NmdWxseSBkZWxldGVkIG1haWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTsgfSwgW2FkZEFsZXJ0LCBkZWxldGVMb2NhbE1haWxdKTtcbiAgICB2YXIgdXBkYXRlTWFpbEJ1dHRvbiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgbWFpbGlkID0gX2EubWFpbGlkLCBidXR0b24gPSBfYS5idXR0b247XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3A7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoTnVpKFwibnB3ZDpxYi1tYWlsOnVwZGF0ZUJ1dHRvblwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbGlkOiBtYWlsaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uOiBidXR0b24sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5zdGF0dXMgIT09ICdvaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgYWRkQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBhY2NlcHQgbWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVMb2NhbEJ1dHRvbihtYWlsaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdTdWNjZXNzZnVsbHkgYWNjZXB0ZWQgbWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFthZGRBbGVydCwgdXBkYXRlTG9jYWxCdXR0b25dKTtcbiAgICByZXR1cm4geyB1cGRhdGVSZWFkOiB1cGRhdGVSZWFkLCBkZWxldGVNYWlsOiBkZWxldGVNYWlsLCB1cGRhdGVNYWlsQnV0dG9uOiB1cGRhdGVNYWlsQnV0dG9uIH07XG59O1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20sIHBhY2spIHtcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufTtcbmltcG9ydCB7IHVzZVNldE1haWwgfSBmcm9tICcuLi9hdG9tcy9tYWlsLWF0b21zJztcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IHZhciB1c2VNYWlsQWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2V0TWFpbCA9IHVzZVNldE1haWwoKTtcbiAgICB2YXIgdXBkYXRlUmVhZFN0YXRlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHNldE1haWwoZnVuY3Rpb24gKGN1ck1haWwpIHtcbiAgICAgICAgICAgIHZhciBuZXdNYWlsID0gY3VyTWFpbC5tYXAoZnVuY3Rpb24gKG1haWwpIHtcbiAgICAgICAgICAgICAgICBpZiAobWFpbC5tYWlsaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgbWFpbCksIHsgcmVhZDogMSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1haWw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXdNYWlsO1xuICAgICAgICB9KTtcbiAgICB9LCBbc2V0TWFpbF0pO1xuICAgIHZhciBuZXdNYWlsID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG1haWwpIHtcbiAgICAgICAgc2V0TWFpbChmdW5jdGlvbiAoY3VyTWFpbCkge1xuICAgICAgICAgICAgdmFyIG5ld01haWwgPSBfX3NwcmVhZEFycmF5KFttYWlsXSwgY3VyTWFpbCwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3TWFpbDtcbiAgICAgICAgfSk7XG4gICAgfSwgW3NldE1haWxdKTtcbiAgICB2YXIgdXBkYXRlTG9jYWxCdXR0b24gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgc2V0TWFpbChmdW5jdGlvbiAoY3VyTWFpbCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldEluZGV4ID0gY3VyTWFpbC5maW5kSW5kZXgoZnVuY3Rpb24gKHN0b3JlZE1haWwpIHsgcmV0dXJuIHN0b3JlZE1haWwubWFpbGlkID09PSBpZDsgfSk7XG4gICAgICAgICAgICB2YXIgbmV3TWFpbEFycmF5ID0gX19zcHJlYWRBcnJheShbXSwgY3VyTWFpbCwgdHJ1ZSk7XG4gICAgICAgICAgICBuZXdNYWlsQXJyYXlbdGFyZ2V0SW5kZXhdLmJ1dHRvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gbmV3TWFpbEFycmF5O1xuICAgICAgICB9KTtcbiAgICB9LCBbc2V0TWFpbF0pO1xuICAgIHZhciBkZWxldGVMb2NhbE1haWwgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgc2V0TWFpbChmdW5jdGlvbiAoY3VyTWFpbCkgeyByZXR1cm4gX19zcHJlYWRBcnJheShbXSwgY3VyTWFpbCwgdHJ1ZSkuZmlsdGVyKGZ1bmN0aW9uIChtYWlsKSB7IHJldHVybiBtYWlsLm1haWxpZCAhPT0gaWQ7IH0pOyB9KTtcbiAgICB9LCBbc2V0TWFpbF0pO1xuICAgIHJldHVybiB7IHVwZGF0ZVJlYWRTdGF0ZTogdXBkYXRlUmVhZFN0YXRlLCBkZWxldGVMb2NhbE1haWw6IGRlbGV0ZUxvY2FsTWFpbCwgdXBkYXRlTG9jYWxCdXR0b246IHVwZGF0ZUxvY2FsQnV0dG9uLCBuZXdNYWlsOiBuZXdNYWlsIH07XG59O1xuIiwidmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbmltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IE11aUFsZXJ0IGZyb20gJ0BtdWkvbWF0ZXJpYWwvQWxlcnQnO1xuaW1wb3J0IHsgVHlwb2dyYXBoeSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuZXhwb3J0IHZhciBBbGVydCA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTXVpQWxlcnQsIF9fYXNzaWduKHsgc3g6IHtcbiAgICAgICAgICAgIHpJbmRleDogMTAwMDAsXG4gICAgICAgIH0sIGVsZXZhdGlvbjogNCwgdmFyaWFudDogXCJmaWxsZWRcIiB9LCBwcm9wcywgeyByZWY6IHJlZiB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHN4OiB7XG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6ICczMDBweCcsXG4gICAgICAgICAgICAgICAgd29yZFdyYXA6ICdicmVhay13b3JkJyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzEuMWVtJyxcbiAgICAgICAgICAgIH0gfSwgcHJvcHMuY2hpbGRyZW4pKSk7XG59KTtcbmV4cG9ydCBkZWZhdWx0IEFsZXJ0O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFNuYWNrYmFyIH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XG5pbXBvcnQgeyB1c2VTbmFja2JhciB9IGZyb20gJy4vdXNlU25hY2tiYXInO1xuaW1wb3J0IEFsZXJ0IGZyb20gJy4vQWxlcnQnO1xuZXhwb3J0IHZhciBQaG9uZVNuYWNrYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgX2IgPSB1c2VTbmFja2JhcigpLCBhbGVydCA9IF9iLmFsZXJ0LCBpc09wZW4gPSBfYi5pc09wZW4sIGhhbmRsZUNsb3NlID0gX2IuaGFuZGxlQ2xvc2U7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFNuYWNrYmFyLCB7IGF1dG9IaWRlRHVyYXRpb246IChfYSA9IGFsZXJ0ID09PSBudWxsIHx8IGFsZXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbGVydC5kdXJhdGlvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMzAwMCwgb3BlbjogaXNPcGVuLCBzeDoge1xuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgYm90dG9tOiA3NSxcbiAgICAgICAgICAgIGxlZnQ6ICcwICFpbXBvcnRhbnQnLFxuICAgICAgICAgICAgcmlnaHQ6ICcwICFpbXBvcnRhbnQnLFxuICAgICAgICB9LCBvbkNsb3NlOiBoYW5kbGVDbG9zZSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFsZXJ0LCB7IHNldmVyaXR5OiAoYWxlcnQgPT09IG51bGwgfHwgYWxlcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFsZXJ0LnR5cGUpIHx8ICdpbmZvJywgb25DbG9zZTogaGFuZGxlQ2xvc2UgfSwgKGFsZXJ0ID09PSBudWxsIHx8IGFsZXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbGVydC5tZXNzYWdlKSB8fCAnJykpKTtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIFNuYWNrYmFyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7XG52YXIgU25hY2tiYXJQcm92aWRlciA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuO1xuICAgIHZhciBfYiA9IHVzZVN0YXRlKGZhbHNlKSwgb3BlbiA9IF9iWzBdLCBzZXRPcGVuID0gX2JbMV07XG4gICAgdmFyIF9jID0gdXNlU3RhdGUobnVsbCksIGFsZXJ0ID0gX2NbMF0sIHNldEFsZXJ0ID0gX2NbMV07XG4gICAgdmFyIHNldE5ld0FsZXJ0ID0gZnVuY3Rpb24gKGFsZXJ0KSB7XG4gICAgICAgIHNldEFsZXJ0KGFsZXJ0KTtcbiAgICAgICAgc2V0T3Blbih0cnVlKTtcbiAgICB9O1xuICAgIHZhciBoYW5kbGVDbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0T3BlbihmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU25hY2tiYXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGFsZXJ0OiBhbGVydCwgYWRkQWxlcnQ6IHNldE5ld0FsZXJ0LCBoYW5kbGVDbG9zZTogaGFuZGxlQ2xvc2UsIGlzT3Blbjogb3BlbiB9IH0sIGNoaWxkcmVuKSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgU25hY2tiYXJQcm92aWRlcjtcbiIsImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTbmFja2JhckNvbnRleHQgfSBmcm9tICcuL1NuYWNrYmFyUHJvdmlkZXInO1xuZXhwb3J0IHZhciB1c2VTbmFja2JhciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVzZUNvbnRleHQoU25hY2tiYXJDb250ZXh0KTsgfTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG4vKipcbiAqIFNpbXBsZSB3cmFwcGVyIGFyb3VuZCBmZXRjaCBBUEkgdGFpbG9yZWQgZm9yIENFRi9OVUkgdXNlLlxuICogQHBhcmFtIGV2ZW50TmFtZSAtIFRoZSBlbmRwb2ludCBldmVudG5hbWUgdG8gdGFyZ2V0XG4gKiBAcGFyYW0gZGF0YSAtIERhdGEgeW91IHdpc2ggdG8gc2VuZCBpbiB0aGUgTlVJIENhbGxiYWNrXG4gKlxuICogQHJldHVybiByZXR1cm5EYXRhIC0gQSBwcm9taXNlIGZvciB0aGUgZGF0YSBzZW50IGJhY2sgYnkgdGhlIE51aUNhbGxiYWNrcyBDQiBhcmd1bWVudFxuICovXG5pbXBvcnQgeyBpc0VudkJyb3dzZXIgfSBmcm9tICcuL21pc2MnO1xuZnVuY3Rpb24gZmV0Y2hOdWkoZXZlbnROYW1lLCBkYXRhLCBtb2NrUmVzcCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsIHJlc291cmNlTmFtZSwgcmVzcCwgcmVzcG9uc2VPYmo7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbnZCcm93c2VyKCkgJiYgbW9ja1Jlc3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBtb2NrUmVzcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VOYW1lID0gXCJucHdkX3FiX21haWxcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2goXCJodHRwczovL1wiLmNvbmNhdChyZXNvdXJjZU5hbWUsIFwiL1wiKS5jb25jYXQoZXZlbnROYW1lKSwgb3B0aW9ucyldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcC5qc29uKCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPYmogPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwb25zZU9ial07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgZmV0Y2hOdWk7XG4iLCJleHBvcnQgdmFyIGlzRW52QnJvd3NlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgIXdpbmRvdy5pbnZva2VOYXRpdmU7XG59O1xuZXhwb3J0IHZhciBnZXRSZXNvdXJjZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5HZXRQYXJlbnRSZXNvdXJjZU5hbWUgPyB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuR2V0UGFyZW50UmVzb3VyY2VOYW1lKCkgOiAnbnB3ZCc7XG59O1xuZXhwb3J0IHZhciBidWlsZFJlc3BPYmogPSBmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBlcnJvck1zZykgeyByZXR1cm4gKHtcbiAgICBkYXRhOiBkYXRhLFxuICAgIHN0YXR1czogc3RhdHVzLFxuICAgIGVycm9yTXNnOiBlcnJvck1zZyxcbn0pOyB9O1xudmFyIE1vbnRoRm9ybWF0dGluZyA9IFtcbiAgICAnSmFudWFyeScsXG4gICAgJ0ZlYnJ1YXJ5JyxcbiAgICAnTWFyY2gnLFxuICAgICdBcHJpbCcsXG4gICAgJ01heScsXG4gICAgJ0p1bmUnLFxuICAgICdKdWx5JyxcbiAgICAnQXVndXN0JyxcbiAgICAnU2VwdGVtYmVyJyxcbiAgICAnT2N0b2JlcicsXG4gICAgJ05vdmVtYmVyJyxcbiAgICAnRGVjZW1iZXInLFxuXTtcbmV4cG9ydCB2YXIgZGF0ZVN0cmluZyA9IGZ1bmN0aW9uIChtYWlsRGF0ZSkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUobWFpbERhdGUpO1xuICAgIHJldHVybiAoZGF0ZS5nZXREYXkoKSArXG4gICAgICAgICcgJyArXG4gICAgICAgIE1vbnRoRm9ybWF0dGluZ1tkYXRlLmdldE1vbnRoKCldICtcbiAgICAgICAgJyAnICtcbiAgICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpICtcbiAgICAgICAgJyAnICtcbiAgICAgICAgZGF0ZS5nZXRIb3VycygpICtcbiAgICAgICAgJzonICtcbiAgICAgICAgZGF0ZS5nZXRNaW51dGVzKCkpO1xufTtcbiJdLCJuYW1lcyI6WyJNb2NrTWFpbCIsIm1haWxpZCIsInNlbmRlciIsInN1YmplY3QiLCJtZXNzYWdlIiwicmVhZCIsImRhdGUiLCJidXR0b24iLCJidXR0b25FdmVudCIsImVuYWJsZWQiLCJidXR0b25EYXRhIiwiZGVhbGVyIiwiaXRlbURhdGEiLCJtaW5yZXAiLCJpdGVtIiwiYW1vdW50IiwibG9jYXRpb25MYWJlbCIsImNvb3JkcyIsIngiLCJ5IiwieiIsIm1haWxTdGF0ZXMiLCJtYWlsSXRlbXMiLCJhdG9tIiwia2V5IiwiZGVmYXVsdCIsInNlbGVjdG9yIiwiZ2V0IiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJyZXNwIiwiZV8xIiwiYm9keSIsImYiLCJ0IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwibmV4dCIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsInRoaXMiLCJuIiwidiIsIm9wIiwiVHlwZUVycm9yIiwiY2FsbCIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsImxlbmd0aCIsInB1c2giLCJlIiwic3RlcCIsIl9fZ2VuZXJhdG9yIiwiX2EiLCJmZXRjaE51aSIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJQIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iLCJhcHBseSIsInNlbGVjdGVkTWFpbCIsIm1vZGFsVmlzaWJpbGUiLCJ1c2VNYWlsc1ZhbHVlIiwidXNlUmVjb2lsVmFsdWUiLCJ1c2VTZXRNYWlsIiwidXNlU2V0UmVjb2lsU3RhdGUiLCJ1c2VTZXRNb2RhbFZpc2libGUiLCJ1c2VNb2RhbFZpc2libGUiLCJ1c2VSZWNvaWxTdGF0ZSIsInVzZVNldFNlbGVjdGVkTWFpbCIsInVzZVNlbGVjdGVkTWFpbCIsInB4IiwicHQiLCJzeCIsIndpZHRoIiwidGV4dEFsaWduIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJwYXJhZ3JhcGgiLCJ2YXJpYW50IiwiaXNEYXJrTW9kZSIsIm1haWxzIiwic2V0TWFpbCIsInNldE1vZGFsVmlzaWJsZSIsInVwZGF0ZVJlYWQiLCJuZXdNYWlsIiwidXNlTnVpRXZlbnQiLCJldmVudCIsInVzZUVmZmVjdCIsImRpc2FibGVQYWRkaW5nIiwibWFwIiwibWFpbCIsImRpdmlkZXIiLCJvbkNsaWNrIiwiaGFuZGxlTWFpbE1vZGFsIiwiYmdjb2xvciIsImJvcmRlclJhZGl1cyIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwibWFyZ2luUmlnaHQiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImp1c3RpZnlDb250ZW50IiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwiZGF0ZURhdGEiLCJEYXRlIiwiZ2V0RGF0ZSIsInNsaWNlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImFsaWduSXRlbXMiLCJoZWlnaHQiLCJzdHlsZSIsIm1vZGFsVmlzaWJsZSIsIl9iIiwic2V0c2VsZWN0ZWRNYWlsIiwiX2MiLCJkZWxldGVNYWlsIiwidXBkYXRlTWFpbEJ1dHRvbiIsInNhbml0aXplZE1lc3NhZ2UiLCJ3aGl0ZUxpc3QiLCJiciIsImRpcmVjdGlvbiIsImluIiwibW91bnRPbkVudGVyIiwidW5tb3VudE9uRXhpdCIsIm9uRXhpdGVkIiwicG9zaXRpb24iLCJ6SW5kZXgiLCJzcXVhcmUiLCJwYiIsInNpemUiLCJzdGFydEljb24iLCJwbCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwicCIsImdhcCIsInVuZGVmaW5lZCIsImNhdGNoIiwiX19hd2FpdGVyIiwidXNlTWFpbEFQSSIsImFkZEFsZXJ0IiwidXBkYXRlUmVhZFN0YXRlIiwiZGVsZXRlTG9jYWxNYWlsIiwidXBkYXRlTG9jYWxCdXR0b24iLCJ1c2VDYWxsYmFjayIsInN0YXR1cyIsInR5cGUiLCJfX2Fzc2lnbiIsIk9iamVjdCIsImFzc2lnbiIsInMiLCJpIiwiYXJndW1lbnRzIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwicGFjayIsImFyIiwibCIsIkFycmF5IiwiY29uY2F0IiwidXNlTWFpbEFjdGlvbnMiLCJpZCIsImN1ck1haWwiLCJ0YXJnZXRJbmRleCIsImZpbmRJbmRleCIsInN0b3JlZE1haWwiLCJuZXdNYWlsQXJyYXkiLCJmaWx0ZXIiLCJmb3J3YXJkUmVmIiwicHJvcHMiLCJyZWYiLCJlbGV2YXRpb24iLCJUeXBvZ3JhcGh5IiwibWF4V2lkdGgiLCJ3b3JkV3JhcCIsImNoaWxkcmVuIiwiUGhvbmVTbmFja2JhciIsInVzZVNuYWNrYmFyIiwiYWxlcnQiLCJpc09wZW4iLCJoYW5kbGVDbG9zZSIsIlNuYWNrYmFyIiwiYXV0b0hpZGVEdXJhdGlvbiIsImR1cmF0aW9uIiwib3BlbiIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsIm9uQ2xvc2UiLCJzZXZlcml0eSIsIlNuYWNrYmFyQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInNldE9wZW4iLCJzZXRBbGVydCIsIlByb3ZpZGVyIiwidXNlQ29udGV4dCIsIlMiLCJldmVudE5hbWUiLCJtb2NrUmVzcCIsIm9wdGlvbnMiLCJtZXRob2QiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsImZldGNoIiwianNvbiIsImlzRW52QnJvd3NlciIsIk1vbnRoRm9ybWF0dGluZyIsImRhdGVTdHJpbmciLCJtYWlsRGF0ZSIsImdldERheSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyJdLCJzb3VyY2VSb290IjoiIn0=