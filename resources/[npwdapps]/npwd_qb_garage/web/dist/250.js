"use strict";(self.webpackChunkgarage=self.webpackChunkgarage||[]).push([[250],{6689:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(5949),a=n(5893);const o=(0,r.Z)([(0,a.jsx)("circle",{cx:"15",cy:"13",r:"1"},"0"),(0,a.jsx)("circle",{cx:"9",cy:"13",r:"1"},"1"),(0,a.jsx)("path",{d:"m8.33 7.5-.66 2h8.66l-.66-2z"},"2"),(0,a.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 15.69c0 .45-.35.81-.78.81h-.44c-.44 0-.78-.36-.78-.81V16.5H7v1.19c0 .45-.35.81-.78.81h-.44c-.43 0-.78-.36-.78-.81v-6.5c.82-2.47 1.34-4.03 1.56-4.69.05-.16.12-.29.19-.4.02-.02.03-.04.05-.06.38-.53.92-.54.92-.54h8.56s.54.01.92.53c.02.03.03.05.05.07.07.11.14.24.19.4.22.66.74 2.23 1.56 4.69v6.5z"},"3")],"Garage")},4121:(e,t,n)=>{n.d(t,{x:()=>l});var r=n(2950),a=n.n(r),o=n(6689),l=function(){return a().createElement(o.Z,{fontSize:"large"})}},9250:(e,t,n)=>{n.r(t),n.d(t,{externalAppConfig:()=>l,default:()=>c});var r=n(4023),a=n(4121),o=n(4274),l=function(){return{id:"garage",nameLocale:"Garage",color:"#fff",backgroundColor:"#333",path:"/garage",icon:a.x,app:r.Z,theme:o.rS}};const c=l},4023:(e,t,n)=>{n.d(t,{Z:()=>v});var r,a,o=n(2950),l=n.n(o),c=n(5475),i=n(6235),s=n(3839),u=n.n(s),m=n(8440),d=n(4810),p=n(5974),f=n(6867),x=n(2658),h=n(4669),Z=n(4958),g=n(7405),E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},E.apply(this,arguments)},b=u().div(w||(r=["\n  flex: 1;\n  padding: 1.5rem;\n  display: flex;\n  box-sizing: border-box;\n  flex-direction: column;\n  overflow: auto;\n  max-height: 100%;\n  background-color: #fafafa;\n  ","\n"],a=["\n  flex: 1;\n  padding: 1.5rem;\n  display: flex;\n  box-sizing: border-box;\n  flex-direction: column;\n  overflow: auto;\n  max-height: 100%;\n  background-color: #fafafa;\n  ","\n"],Object.defineProperty?Object.defineProperty(r,"raw",{value:a}):r.raw=a,w=r),(function(e){return e.isDarkMode&&"\n    background-color: #212121;\n  "})),y=function(e){var t=(0,i.useHistory)(),n=(0,o.useState)([]),r=n[0],a=n[1],c=(0,o.useState)(null),s=c[0],u=c[1],E="dark"===e.theme.palette.mode;return(0,o.useEffect)((function(){(0,g.Z)("npwd:qb-garage:getVehicles").then((function(e){a(e.data)}))}),[]),(0,o.useEffect)((function(){if(r){var e=null==r?void 0:r.reduce((function(e,t){return e[t.type]||(e[t.type]=[]),e[t.type].push(t),e}),{});u(e)}}),[r]),l().createElement(d.Z,{injectFirst:!0},l().createElement(p.Z,{theme:e.theme},l().createElement(b,{isDarkMode:E},l().createElement(m.h,null,l().createElement(f.Z,{color:"primary",onClick:function(){return t.goBack()}},l().createElement(h.Z,null)),l().createElement(x.Z,{fontSize:24,color:"primary",fontWeight:"bold"},"Garage")),s&&l().createElement(Z.Y,{isDarkMode:E,vehicles:s}))))};const v=function(e){return l().createElement(c.NuiProvider,null,l().createElement(y,E({},e)))};var w},4274:(e,t,n)=>{n.d(t,{rS:()=>c});var r=n(3486),a=n(6115),o=r.Z[500],l=a.Z.white,c={palette:{primary:{main:o,dark:r.Z[700],light:r.Z[300],contrastText:l},secondary:{main:"#d32f2f",light:"#eb4242",dark:"#941212",contrastText:l},success:{main:"#2196f3",contrastText:l}}}},9589:(e,t,n)=>{n.d(t,{Z:()=>Z});var r=n(2950),a=n.n(r),o=n(2440),l=n(799),c=n(700),i=n(4755),s=n(8584),u=n(2658),m=n(6914),d=n(4637),p=n(9308),f=n(2753),x=n(6024),h=n(7405);const Z=function(e){var t=e.veh;return a().createElement(a().Fragment,null,a().createElement(o.Z,{sx:{width:"70%"}},a().createElement(l.ZP,{disablePadding:!0,sx:{borderBottom:"1px solid white",mb:"8px"}},a().createElement(c.Z,{sx:{ml:"5px",mr:"20px",minWidth:"25px"}},a().createElement(i.Z,{title:"Location"},a().createElement(p.Z,null))),a().createElement(s.Z,{primary:t.garage})),a().createElement(l.ZP,{disablePadding:!0,sx:{borderBottom:"1px solid white",mb:"8px"}},a().createElement(c.Z,{sx:{ml:"5px",mr:"20px",minWidth:"25px"}},a().createElement(i.Z,{title:"Engine"},a().createElement(x.Z,null))),a().createElement(s.Z,{primary:a().createElement(u.Z,null,Math.ceil(t.engine/10),"%")})),a().createElement(l.ZP,{disablePadding:!0,sx:{borderBottom:"1px solid white",mb:"8px"}},a().createElement(c.Z,{sx:{ml:"5px",mr:"20px",minWidth:"25px"}},a().createElement(i.Z,{title:"Fuel"},a().createElement(f.Z,null))),a().createElement(s.Z,{primary:a().createElement(u.Z,null,Math.ceil(t.fuel),"%")})),a().createElement(l.ZP,{disablePadding:!0,sx:{borderBottom:"1px solid white",mb:"8px"}},a().createElement(c.Z,{sx:{ml:"5px",mr:"20px",minWidth:"25px"}},a().createElement(i.Z,{title:"Body"},a().createElement(d.Z,null))),a().createElement(s.Z,{primary:a().createElement(u.Z,null,Math.ceil(t.body/10),"%")}))),a().createElement(m.Z,{color:"primary",variant:"contained",disabled:"out"!==t.state,onClick:function(){return e=t.plate,void(0,h.Z)("npwd:qb-garage:requestWaypoint",{plate:e}).then((function(e){console.log(e.data)}));var e}},"Track"))}},4958:(e,t,n)=>{n.d(t,{Y:()=>w});var r=n(1508),a=n(2440),o=n(8277),l=n(2981),c=n(799),i=n(7903),s=n(7425),u=n(6447),m=n(2658),d=n(5092),p=n(5137),f=n(3486),x=n(265),h=n(2950),Z=n.n(h),g=n(6559),E=n(9521),b=n(4637),y=n(327),v=n(9589),w=function(e){var t=e.vehicles,n=(e.isDarkMode,(0,h.useState)("car")),w=n[0],k=n[1],S={car:{icon:Z().createElement(b.Z,{sx:{fontSize:35}}),status:{out:p.Z[500],garaged:f.Z[500],impounded:x.Z[500]}},aircraft:{icon:Z().createElement(g.Z,{sx:{fontSize:35}}),status:{out:p.Z[500],garaged:f.Z[500],impounded:x.Z[500]}},boat:{icon:Z().createElement(y.Z,{sx:{fontSize:35}}),status:{out:p.Z[500],garaged:f.Z[500],impounded:x.Z[500]}},bike:{icon:Z().createElement(E.Z,{sx:{fontSize:35}}),status:{out:p.Z[500],garaged:f.Z[500],impounded:x.Z[500]}}};return Z().createElement(r.Z,null,Object.keys(t).map((function(e){return Z().createElement(a.Z,{subheader:Z().createElement(o.Z,{sx:{cursor:"pointer",position:"static"},onClick:function(){k(e)}},e.toUpperCase())},Z().createElement(l.Z,{in:w===e},t[e].map((function(e){return Z().createElement(c.ZP,null,Z().createElement(i.Z,{sx:{width:"100%",borderBottom:"4px solid",borderBottomColor:S[e.type].status[e.state]}},Z().createElement(s.Z,null,Z().createElement(r.Z,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"}},Z().createElement(r.Z,{sx:{display:"flex",gap:3,alignItems:"center"}},S[e.type].icon,Z().createElement(u.Z,{spacing:1},Z().createElement(m.Z,{sx:{fontSize:15}},e.brand+" "+e.vehicle),Z().createElement(m.Z,{sx:{fontSize:15}},e.plate))),Z().createElement(m.Z,{sx:{fontSize:14}},e.state.toUpperCase()))),Z().createElement(d.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},Z().createElement(v.Z,{veh:e}))))}))))})))}},8440:(e,t,n)=>{n.d(t,{h:()=>a});var r=n(3839),a=n.n(r)()("div")({width:"100%",justifyContent:"flex-start",display:"flex",alignItems:"center",gap:20,marginBottom:20})},7405:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(5181);const a=function(e,t,n){return a=this,o=void 0,c=function(){var a;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(o){switch(o.label){case 0:return a={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)},(0,r.Id)()&&n?[2,n]:[4,fetch("https://".concat("npwd_qb_garage","/").concat(e),a)];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var a;t.done?e(t.value):(a=t.value,a instanceof l?a:new l((function(e){e(a)}))).then(n,r)}i((c=c.apply(a,o||[])).next())}));var a,o,l,c}},5181:(e,t,n)=>{n.d(t,{Id:()=>r});var r=function(){return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQ2xHZCxHQUFNcEIsRUFBWUEsRUFBVXJHLE1BQU1tRyxFQUFTQyxHQUFjLEtBQUtXLFdBTjFCLElBQVVaLEVBQVNDLEVBQVk4QixFQUFHN0IsSSxpQ0NBdkUsSUFBSW9DLEVBQWUsV0FDdEIsT0FBTyIsInNvdXJjZXMiOlsid2VicGFjazovL2dhcmFnZS8uL25vZGVfbW9kdWxlcy9AbXVpL2ljb25zLW1hdGVyaWFsL2VzbS9HYXJhZ2UuanMiLCJ3ZWJwYWNrOi8vZ2FyYWdlLy4vaWNvbi50c3giLCJ3ZWJwYWNrOi8vZ2FyYWdlLy4vbnB3ZC5jb25maWcudHMiLCJ3ZWJwYWNrOi8vZ2FyYWdlLy4vc3JjL0FwcC50c3giLCJ3ZWJwYWNrOi8vZ2FyYWdlLy4vc3JjL2FwcC50aGVtZS50cyIsIndlYnBhY2s6Ly9nYXJhZ2UvLi9zcmMvY29tcG9uZW50cy9WZWhpY2xlRGV0YWlscy50c3giLCJ3ZWJwYWNrOi8vZ2FyYWdlLy4vc3JjL2NvbXBvbmVudHMvVmVoaWNsZUxpc3QudHN4Iiwid2VicGFjazovL2dhcmFnZS8uL3NyYy9zdHlsZXMvaGVhZGVyLnN0eWxlcy50cyIsIndlYnBhY2s6Ly9nYXJhZ2UvLi9zcmMvdXRpbHMvZmV0Y2hOdWkudHMiLCJ3ZWJwYWNrOi8vZ2FyYWdlLy4vc3JjL3V0aWxzL21pc2MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyZWF0ZVN2Z0ljb24gZnJvbSAnLi91dGlscy9jcmVhdGVTdmdJY29uJztcbmltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTdmdJY29uKFsvKiNfX1BVUkVfXyovX2pzeChcImNpcmNsZVwiLCB7XG4gIGN4OiBcIjE1XCIsXG4gIGN5OiBcIjEzXCIsXG4gIHI6IFwiMVwiXG59LCBcIjBcIiksIC8qI19fUFVSRV9fKi9fanN4KFwiY2lyY2xlXCIsIHtcbiAgY3g6IFwiOVwiLFxuICBjeTogXCIxM1wiLFxuICByOiBcIjFcIlxufSwgXCIxXCIpLCAvKiNfX1BVUkVfXyovX2pzeChcInBhdGhcIiwge1xuICBkOiBcIm04LjMzIDcuNS0uNjYgMmg4LjY2bC0uNjYtMnpcIlxufSwgXCIyXCIpLCAvKiNfX1BVUkVfXyovX2pzeChcInBhdGhcIiwge1xuICBkOiBcIk0yMCAySDRjLTEuMSAwLTIgLjktMiAydjE2YzAgMS4xLjkgMiAyIDJoMTZjMS4xIDAgMi0uOSAyLTJWNGMwLTEuMS0uOS0yLTItMnptLTEgMTUuNjljMCAuNDUtLjM1LjgxLS43OC44MWgtLjQ0Yy0uNDQgMC0uNzgtLjM2LS43OC0uODFWMTYuNUg3djEuMTljMCAuNDUtLjM1LjgxLS43OC44MWgtLjQ0Yy0uNDMgMC0uNzgtLjM2LS43OC0uODF2LTYuNWMuODItMi40NyAxLjM0LTQuMDMgMS41Ni00LjY5LjA1LS4xNi4xMi0uMjkuMTktLjQuMDItLjAyLjAzLS4wNC4wNS0uMDYuMzgtLjUzLjkyLS41NC45Mi0uNTRoOC41NnMuNTQuMDEuOTIuNTNjLjAyLjAzLjAzLjA1LjA1LjA3LjA3LjExLjE0LjI0LjE5LjQuMjIuNjYuNzQgMi4yMyAxLjU2IDQuNjl2Ni41elwiXG59LCBcIjNcIildLCAnR2FyYWdlJyk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEdhcmFnZSB9IGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwnO1xuZXhwb3J0IHZhciBHYXJhZ2VJY29uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEdhcmFnZSwgeyBmb250U2l6ZTogXCJsYXJnZVwiIH0pO1xufTtcbiIsImltcG9ydCBBcHAgZnJvbSAnLi9zcmMvQXBwJztcbmltcG9ydCB7IEdhcmFnZUljb24gfSBmcm9tICcuL2ljb24nO1xuaW1wb3J0IHsgdGhlbWUgfSBmcm9tICcuL3NyYy9hcHAudGhlbWUnO1xuZXhwb3J0IHZhciBleHRlcm5hbEFwcENvbmZpZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7XG4gICAgaWQ6ICdnYXJhZ2UnLFxuICAgIG5hbWVMb2NhbGU6ICdHYXJhZ2UnLFxuICAgIGNvbG9yOiAnI2ZmZicsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzMzMycsXG4gICAgcGF0aDogJy9nYXJhZ2UnLFxuICAgIGljb246IEdhcmFnZUljb24sXG4gICAgYXBwOiBBcHAsXG4gICAgdGhlbWU6IHRoZW1lLFxufSk7IH07XG5leHBvcnQgZGVmYXVsdCBleHRlcm5hbEFwcENvbmZpZztcbiIsInZhciBfX21ha2VUZW1wbGF0ZU9iamVjdCA9ICh0aGlzICYmIHRoaXMuX19tYWtlVGVtcGxhdGVPYmplY3QpIHx8IGZ1bmN0aW9uIChjb29rZWQsIHJhdykge1xuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gICAgcmV0dXJuIGNvb2tlZDtcbn07XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBOdWlQcm92aWRlciB9IGZyb20gJ3JlYWN0LWZpdmVtLWhvb2tzJztcbmltcG9ydCB7IHVzZUhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSAnLi9zdHlsZXMvaGVhZGVyLnN0eWxlcyc7XG5pbXBvcnQgeyBJY29uQnV0dG9uLCBTdHlsZWRFbmdpbmVQcm92aWRlciwgVGhlbWVQcm92aWRlciwgVHlwb2dyYXBoeSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgQXJyb3dCYWNrIH0gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbCc7XG5pbXBvcnQgeyBWZWhpY2xlTGlzdCB9IGZyb20gJy4vY29tcG9uZW50cy9WZWhpY2xlTGlzdCc7XG5pbXBvcnQgZmV0Y2hOdWkgZnJvbSAnLi91dGlscy9mZXRjaE51aSc7XG52YXIgQ29udGFpbmVyID0gc3R5bGVkLmRpdih0ZW1wbGF0ZU9iamVjdF8xIHx8ICh0ZW1wbGF0ZU9iamVjdF8xID0gX19tYWtlVGVtcGxhdGVPYmplY3QoW1wiXFxuICBmbGV4OiAxO1xcbiAgcGFkZGluZzogMS41cmVtO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcXG4gIFwiLCBcIlxcblwiXSwgW1wiXFxuICBmbGV4OiAxO1xcbiAgcGFkZGluZzogMS41cmVtO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcXG4gIFwiLCBcIlxcblwiXSkpLCBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgaXNEYXJrTW9kZSA9IF9hLmlzRGFya01vZGU7XG4gICAgcmV0dXJuIGlzRGFya01vZGUgJiZcbiAgICAgICAgXCJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzIxMjEyMTtcXG4gIFwiO1xufSk7XG52YXIgQXBwID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGhpc3RvcnkgPSB1c2VIaXN0b3J5KCk7XG4gICAgdmFyIF9hID0gdXNlU3RhdGUoW10pLCB2ZWhpY2xlcyA9IF9hWzBdLCBzZXRWZWhpY2xlcyA9IF9hWzFdO1xuICAgIHZhciBfYiA9IHVzZVN0YXRlKG51bGwpLCBtYXBwZWRWZWggPSBfYlswXSwgc2V0TWFwcGVkVmVoID0gX2JbMV07XG4gICAgdmFyIGlzRGFya01vZGUgPSBwcm9wcy50aGVtZS5wYWxldHRlLm1vZGUgPT09ICdkYXJrJztcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBmZXRjaE51aSgnbnB3ZDpxYi1nYXJhZ2U6Z2V0VmVoaWNsZXMnKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgICBzZXRWZWhpY2xlcyhyZXNwLmRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHZlaGljbGVzKSB7XG4gICAgICAgICAgICB2YXIgbWFwcGVkVmVoaWNsZXMgPSB2ZWhpY2xlcyA9PT0gbnVsbCB8fCB2ZWhpY2xlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmVoaWNsZXMucmVkdWNlKGZ1bmN0aW9uICh2ZWhzLCB2ZWhpY2xlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2ZWhzW3ZlaGljbGUudHlwZV0pXG4gICAgICAgICAgICAgICAgICAgIHZlaHNbdmVoaWNsZS50eXBlXSA9IFtdO1xuICAgICAgICAgICAgICAgIHZlaHNbdmVoaWNsZS50eXBlXS5wdXNoKHZlaGljbGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2ZWhzO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgc2V0TWFwcGVkVmVoKG1hcHBlZFZlaGljbGVzKTtcbiAgICAgICAgfVxuICAgIH0sIFt2ZWhpY2xlc10pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRFbmdpbmVQcm92aWRlciwgeyBpbmplY3RGaXJzdDogdHJ1ZSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRoZW1lUHJvdmlkZXIsIHsgdGhlbWU6IHByb3BzLnRoZW1lIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lciwgeyBpc0RhcmtNb2RlOiBpc0RhcmtNb2RlIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkZXIsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbkJ1dHRvbiwgeyBjb2xvcjogXCJwcmltYXJ5XCIsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhpc3RvcnkuZ29CYWNrKCk7IH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXJyb3dCYWNrLCBudWxsKSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyBmb250U2l6ZTogMjQsIGNvbG9yOiBcInByaW1hcnlcIiwgZm9udFdlaWdodDogXCJib2xkXCIgfSwgXCJHYXJhZ2VcIikpLFxuICAgICAgICAgICAgICAgIG1hcHBlZFZlaCAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFZlaGljbGVMaXN0LCB7IGlzRGFya01vZGU6IGlzRGFya01vZGUsIHZlaGljbGVzOiBtYXBwZWRWZWggfSkpKSkpO1xufTtcbnZhciBXaXRoUHJvdmlkZXJzID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChOdWlQcm92aWRlciwgbnVsbCxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwgX19hc3NpZ24oe30sIHByb3BzKSkpKTsgfTtcbmV4cG9ydCBkZWZhdWx0IFdpdGhQcm92aWRlcnM7XG52YXIgdGVtcGxhdGVPYmplY3RfMTtcbiIsImltcG9ydCB7IGNvbW1vbiwgZ3JlZW4gfSBmcm9tICdAbXVpL21hdGVyaWFsL2NvbG9ycyc7XG5leHBvcnQgdmFyIEFQUF9QUklNQVJZX0NPTE9SID0gZ3JlZW5bNTAwXTtcbmV4cG9ydCB2YXIgQVBQX1RFWFRfQ09MT1IgPSBjb21tb24ud2hpdGU7XG5leHBvcnQgdmFyIHRoZW1lID0ge1xuICAgIHBhbGV0dGU6IHtcbiAgICAgICAgcHJpbWFyeToge1xuICAgICAgICAgICAgbWFpbjogQVBQX1BSSU1BUllfQ09MT1IsXG4gICAgICAgICAgICBkYXJrOiBncmVlbls3MDBdLFxuICAgICAgICAgICAgbGlnaHQ6IGdyZWVuWzMwMF0sXG4gICAgICAgICAgICBjb250cmFzdFRleHQ6IEFQUF9URVhUX0NPTE9SLFxuICAgICAgICB9LFxuICAgICAgICBzZWNvbmRhcnk6IHtcbiAgICAgICAgICAgIG1haW46ICcjZDMyZjJmJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnI2ViNDI0MicsXG4gICAgICAgICAgICBkYXJrOiAnIzk0MTIxMicsXG4gICAgICAgICAgICBjb250cmFzdFRleHQ6IEFQUF9URVhUX0NPTE9SLFxuICAgICAgICB9LFxuICAgICAgICBzdWNjZXNzOiB7XG4gICAgICAgICAgICBtYWluOiAnIzIxOTZmMycsXG4gICAgICAgICAgICBjb250cmFzdFRleHQ6IEFQUF9URVhUX0NPTE9SLFxuICAgICAgICB9LFxuICAgIH0sXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJ1dHRvbiwgTGlzdCwgTGlzdEl0ZW0sIExpc3RJdGVtSWNvbiwgTGlzdEl0ZW1UZXh0LCBUb29sdGlwLCBUeXBvZ3JhcGh5LCB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnO1xuaW1wb3J0IERpcmVjdGlvbnNDYXJJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRGlyZWN0aW9uc0Nhcic7XG5pbXBvcnQgTG9jYXRpb25Pbkljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9Mb2NhdGlvbk9uJztcbmltcG9ydCBMb2NhbEdhc1N0YXRpb25JY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvTG9jYWxHYXNTdGF0aW9uJztcbmltcG9ydCBCdWlsZEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9CdWlsZCc7XG5pbXBvcnQgZmV0Y2hOdWkgZnJvbSAnLi4vdXRpbHMvZmV0Y2hOdWknO1xudmFyIFZlaGljbGVEZXRhaWxzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHZlaCA9IF9hLnZlaDtcbiAgICB2YXIgaGFuZGxlVHJhY2tWZWhpY2xlID0gZnVuY3Rpb24gKHBsYXRlKSB7XG4gICAgICAgIGZldGNoTnVpKCducHdkOnFiLWdhcmFnZTpyZXF1ZXN0V2F5cG9pbnQnLCB7IHBsYXRlOiBwbGF0ZSB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdCwgeyBzeDogeyB3aWR0aDogJzcwJScgfSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbSwgeyBkaXNhYmxlUGFkZGluZzogdHJ1ZSwgc3g6IHsgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHdoaXRlJywgbWI6ICc4cHgnIH0gfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtSWNvbiwgeyBzeDogeyBtbDogJzVweCcsIG1yOiAnMjBweCcsIG1pbldpZHRoOiAnMjVweCcgfSB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIHsgdGl0bGU6IFwiTG9jYXRpb25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMb2NhdGlvbk9uSWNvbiwgbnVsbCkpKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtVGV4dCwgeyBwcmltYXJ5OiB2ZWguZ2FyYWdlIH0pKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEl0ZW0sIHsgZGlzYWJsZVBhZGRpbmc6IHRydWUsIHN4OiB7IGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCB3aGl0ZScsIG1iOiAnOHB4JyB9IH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbUljb24sIHsgc3g6IHsgbWw6ICc1cHgnLCBtcjogJzIwcHgnLCBtaW5XaWR0aDogJzI1cHgnIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7IHRpdGxlOiBcIkVuZ2luZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1aWxkSWNvbiwgbnVsbCkpKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtVGV4dCwgeyBwcmltYXJ5OiBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNlaWwodmVoLmVuZ2luZSAvIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiJVwiKSB9KSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtLCB7IGRpc2FibGVQYWRkaW5nOiB0cnVlLCBzeDogeyBib3JkZXJCb3R0b206ICcxcHggc29saWQgd2hpdGUnLCBtYjogJzhweCcgfSB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEl0ZW1JY29uLCB7IHN4OiB7IG1sOiAnNXB4JywgbXI6ICcyMHB4JywgbWluV2lkdGg6ICcyNXB4JyB9IH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcCwgeyB0aXRsZTogXCJGdWVsXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9jYWxHYXNTdGF0aW9uSWNvbiwgbnVsbCkpKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtVGV4dCwgeyBwcmltYXJ5OiBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNlaWwodmVoLmZ1ZWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIlXCIpIH0pKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEl0ZW0sIHsgZGlzYWJsZVBhZGRpbmc6IHRydWUsIHN4OiB7IGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCB3aGl0ZScsIG1iOiAnOHB4JyB9IH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbUljb24sIHsgc3g6IHsgbWw6ICc1cHgnLCBtcjogJzIwcHgnLCBtaW5XaWR0aDogJzI1cHgnIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7IHRpdGxlOiBcIkJvZHlcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChEaXJlY3Rpb25zQ2FySWNvbiwgbnVsbCkpKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtVGV4dCwgeyBwcmltYXJ5OiBSZWFjdC5jcmVhdGVFbGVtZW50KFR5cG9ncmFwaHksIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNlaWwodmVoLmJvZHkgLyAxMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiVcIikgfSkpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCdXR0b24sIHsgY29sb3I6IFwicHJpbWFyeVwiLCB2YXJpYW50OiBcImNvbnRhaW5lZFwiLCBkaXNhYmxlZDogdmVoLnN0YXRlICE9PSAnb3V0Jywgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gaGFuZGxlVHJhY2tWZWhpY2xlKHZlaC5wbGF0ZSk7IH0gfSwgXCJUcmFja1wiKSkpO1xufTtcbmV4cG9ydCBkZWZhdWx0IFZlaGljbGVEZXRhaWxzO1xuIiwiaW1wb3J0IHsgQm94LCBMaXN0SXRlbSwgTGlzdCwgTGlzdFN1YmhlYWRlciwgQ29sbGFwc2UsIEFjY29yZGlvbiwgQWNjb3JkaW9uU3VtbWFyeSwgVHlwb2dyYXBoeSwgQWNjb3JkaW9uRGV0YWlscywgU3RhY2ssIH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XG5pbXBvcnQgeyBncmVlbiwgb3JhbmdlLCByZWQgfSBmcm9tICdAbXVpL21hdGVyaWFsL2NvbG9ycyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRmxpZ2h0SWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0ZsaWdodCc7XG5pbXBvcnQgUGVkYWxCaWtlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1BlZGFsQmlrZSc7XG5pbXBvcnQgRGlyZWN0aW9uc0Nhckljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9EaXJlY3Rpb25zQ2FyJztcbmltcG9ydCBEaXJlY3Rpb25zQm9hdEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9EaXJlY3Rpb25zQm9hdCc7XG5pbXBvcnQgVmVoaWNsZURldGFpbHMgZnJvbSAnLi9WZWhpY2xlRGV0YWlscyc7XG5leHBvcnQgdmFyIFZlaGljbGVMaXN0ID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHZlaGljbGVzID0gX2EudmVoaWNsZXMsIGlzRGFya01vZGUgPSBfYS5pc0RhcmtNb2RlO1xuICAgIHZhciBfYiA9IHVzZVN0YXRlKCdjYXInKSwgY29sbGFwc2VJZCA9IF9iWzBdLCBzZXRDb2xsYXBzZUlkID0gX2JbMV07XG4gICAgdmFyIHR5cGVJY29uID0ge1xuICAgICAgICBjYXI6IHtcbiAgICAgICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlyZWN0aW9uc0Nhckljb24sIHsgc3g6IHsgZm9udFNpemU6IDM1IH0gfSksXG4gICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICBvdXQ6IG9yYW5nZVs1MDBdLFxuICAgICAgICAgICAgICAgIGdhcmFnZWQ6IGdyZWVuWzUwMF0sXG4gICAgICAgICAgICAgICAgaW1wb3VuZGVkOiByZWRbNTAwXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGFpcmNyYWZ0OiB7XG4gICAgICAgICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZsaWdodEljb24sIHsgc3g6IHsgZm9udFNpemU6IDM1IH0gfSksXG4gICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICBvdXQ6IG9yYW5nZVs1MDBdLFxuICAgICAgICAgICAgICAgIGdhcmFnZWQ6IGdyZWVuWzUwMF0sXG4gICAgICAgICAgICAgICAgaW1wb3VuZGVkOiByZWRbNTAwXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGJvYXQ6IHtcbiAgICAgICAgICAgIGljb246IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGlyZWN0aW9uc0JvYXRJY29uLCB7IHN4OiB7IGZvbnRTaXplOiAzNSB9IH0pLFxuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgb3V0OiBvcmFuZ2VbNTAwXSxcbiAgICAgICAgICAgICAgICBnYXJhZ2VkOiBncmVlbls1MDBdLFxuICAgICAgICAgICAgICAgIGltcG91bmRlZDogcmVkWzUwMF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBiaWtlOiB7XG4gICAgICAgICAgICBpY29uOiBSZWFjdC5jcmVhdGVFbGVtZW50KFBlZGFsQmlrZUljb24sIHsgc3g6IHsgZm9udFNpemU6IDM1IH0gfSksXG4gICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICBvdXQ6IG9yYW5nZVs1MDBdLFxuICAgICAgICAgICAgICAgIGdhcmFnZWQ6IGdyZWVuWzUwMF0sXG4gICAgICAgICAgICAgICAgaW1wb3VuZGVkOiByZWRbNTAwXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICB2YXIgZXhwYW5kSXRlbSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBzZXRDb2xsYXBzZUlkKGlkKTtcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIG51bGwsIE9iamVjdC5rZXlzKHZlaGljbGVzKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdCwgeyBzdWJoZWFkZXI6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdFN1YmhlYWRlciwgeyBzeDogeyBjdXJzb3I6ICdwb2ludGVyJywgcG9zaXRpb246IFwic3RhdGljXCIgfSwgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhwYW5kSXRlbShrZXkpOyB9IH0sIGtleS50b1VwcGVyQ2FzZSgpKSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KENvbGxhcHNlLCB7IGluOiBjb2xsYXBzZUlkID09PSBrZXkgfSwgdmVoaWNsZXNba2V5XS5tYXAoZnVuY3Rpb24gKHZlaCkge1xuICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RJdGVtLCBudWxsLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjb3JkaW9uLCB7IHN4OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiAnNHB4IHNvbGlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbUNvbG9yOiB0eXBlSWNvblt2ZWgudHlwZV0uc3RhdHVzW3ZlaC5zdGF0ZV0sXG4gICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChBY2NvcmRpb25TdW1tYXJ5LCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgc3g6IHsgZGlzcGxheTogJ2ZsZXgnLCBnYXA6IDMsIGFsaWduSXRlbXM6ICdjZW50ZXInIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUljb25bdmVoLnR5cGVdLmljb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhY2ssIHsgc3BhY2luZzogMSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHN4OiB7IGZvbnRTaXplOiAxNSB9IH0sIHZlaC5icmFuZCArICcgJyArIHZlaC52ZWhpY2xlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHlwb2dyYXBoeSwgeyBzeDogeyBmb250U2l6ZTogMTUgfSB9LCB2ZWgucGxhdGUpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUeXBvZ3JhcGh5LCB7IHN4OiB7IGZvbnRTaXplOiAxNCB9IH0sIHZlaC5zdGF0ZS50b1VwcGVyQ2FzZSgpKSkpLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFjY29yZGlvbkRldGFpbHMsIHsgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChWZWhpY2xlRGV0YWlscywgeyB2ZWg6IHZlaCB9KSkpKSk7XG4gICAgICAgIH0pKSkpOyB9KSkpO1xufTtcbiIsImltcG9ydCBzdHlsZWQgZnJvbSBcInN0eWxlZC1jb21wb25lbnRzXCI7XG5leHBvcnQgdmFyIEhlYWRlciA9IHN0eWxlZCgnZGl2Jykoe1xuICAgIHdpZHRoOiAnMTAwJScsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgZ2FwOiAyMCxcbiAgICBtYXJnaW5Cb3R0b206IDIwLFxufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBTaW1wbGUgd3JhcHBlciBhcm91bmQgZmV0Y2ggQVBJIHRhaWxvcmVkIGZvciBDRUYvTlVJIHVzZS5cbiAqIEBwYXJhbSBldmVudE5hbWUgLSBUaGUgZW5kcG9pbnQgZXZlbnRuYW1lIHRvIHRhcmdldFxuICogQHBhcmFtIGRhdGEgLSBEYXRhIHlvdSB3aXNoIHRvIHNlbmQgaW4gdGhlIE5VSSBDYWxsYmFja1xuICpcbiAqIEByZXR1cm4gcmV0dXJuRGF0YSAtIEEgcHJvbWlzZSBmb3IgdGhlIGRhdGEgc2VudCBiYWNrIGJ5IHRoZSBOdWlDYWxsYmFja3MgQ0IgYXJndW1lbnRcbiAqL1xuaW1wb3J0IHsgaXNFbnZCcm93c2VyIH0gZnJvbSAnLi9taXNjJztcbmZ1bmN0aW9uIGZldGNoTnVpKGV2ZW50TmFtZSwgZGF0YSwgbW9ja1Jlc3ApIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcHRpb25zLCByZXNvdXJjZU5hbWUsIHJlc3AsIHJlc3BvbnNlT2JqO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW52QnJvd3NlcigpICYmIG1vY2tSZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbW9ja1Jlc3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlTmFtZSA9IFwibnB3ZF9xYl9nYXJhZ2VcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2goXCJodHRwczovL1wiLmNvbmNhdChyZXNvdXJjZU5hbWUsIFwiL1wiKS5jb25jYXQoZXZlbnROYW1lKSwgb3B0aW9ucyldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcC5qc29uKCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPYmogPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwb25zZU9ial07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgZmV0Y2hOdWk7XG4iLCJleHBvcnQgdmFyIGlzRW52QnJvd3NlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgIXdpbmRvdy5pbnZva2VOYXRpdmU7XG59O1xuZXhwb3J0IHZhciBnZXRSZXNvdXJjZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5HZXRQYXJlbnRSZXNvdXJjZU5hbWUgPyB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuR2V0UGFyZW50UmVzb3VyY2VOYW1lKCkgOiAnbnB3ZCc7XG59O1xuZXhwb3J0IHZhciBidWlsZFJlc3BPYmogPSBmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBlcnJvck1zZykgeyByZXR1cm4gKHtcbiAgICBkYXRhOiBkYXRhLFxuICAgIHN0YXR1czogc3RhdHVzLFxuICAgIGVycm9yTXNnOiBlcnJvck1zZyxcbn0pOyB9O1xuIl0sIm5hbWVzIjpbImN4IiwiY3kiLCJyIiwiZCIsIkdhcmFnZUljb24iLCJmb250U2l6ZSIsImV4dGVybmFsQXBwQ29uZmlnIiwiaWQiLCJuYW1lTG9jYWxlIiwiY29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYXRoIiwiaWNvbiIsImFwcCIsInRoZW1lIiwiY29va2VkIiwicmF3IiwiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIkNvbnRhaW5lciIsInRlbXBsYXRlT2JqZWN0XzEiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX2EiLCJpc0RhcmtNb2RlIiwiQXBwIiwicHJvcHMiLCJoaXN0b3J5IiwidXNlSGlzdG9yeSIsInVzZVN0YXRlIiwidmVoaWNsZXMiLCJzZXRWZWhpY2xlcyIsIl9iIiwibWFwcGVkVmVoIiwic2V0TWFwcGVkVmVoIiwicGFsZXR0ZSIsIm1vZGUiLCJ1c2VFZmZlY3QiLCJ0aGVuIiwicmVzcCIsImRhdGEiLCJtYXBwZWRWZWhpY2xlcyIsInJlZHVjZSIsInZlaHMiLCJ2ZWhpY2xlIiwidHlwZSIsInB1c2giLCJpbmplY3RGaXJzdCIsIm9uQ2xpY2siLCJnb0JhY2siLCJmb250V2VpZ2h0IiwiTnVpUHJvdmlkZXIiLCJBUFBfUFJJTUFSWV9DT0xPUiIsIkFQUF9URVhUX0NPTE9SIiwicHJpbWFyeSIsIm1haW4iLCJkYXJrIiwibGlnaHQiLCJjb250cmFzdFRleHQiLCJzZWNvbmRhcnkiLCJzdWNjZXNzIiwidmVoIiwic3giLCJ3aWR0aCIsImRpc2FibGVQYWRkaW5nIiwiYm9yZGVyQm90dG9tIiwibWIiLCJtbCIsIm1yIiwibWluV2lkdGgiLCJ0aXRsZSIsImdhcmFnZSIsIk1hdGgiLCJjZWlsIiwiZW5naW5lIiwiZnVlbCIsImJvZHkiLCJ2YXJpYW50IiwiZGlzYWJsZWQiLCJzdGF0ZSIsInBsYXRlIiwicmVzIiwiY29uc29sZSIsImxvZyIsIlZlaGljbGVMaXN0IiwiY29sbGFwc2VJZCIsInNldENvbGxhcHNlSWQiLCJ0eXBlSWNvbiIsImNhciIsInN0YXR1cyIsIm91dCIsImdhcmFnZWQiLCJpbXBvdW5kZWQiLCJhaXJjcmFmdCIsImJvYXQiLCJiaWtlIiwia2V5cyIsIm1hcCIsImtleSIsInN1YmhlYWRlciIsImN1cnNvciIsInBvc2l0aW9uIiwidG9VcHBlckNhc2UiLCJpbiIsImJvcmRlckJvdHRvbUNvbG9yIiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsImdhcCIsInNwYWNpbmciLCJicmFuZCIsImZsZXhEaXJlY3Rpb24iLCJIZWFkZXIiLCJtYXJnaW5Cb3R0b20iLCJldmVudE5hbWUiLCJtb2NrUmVzcCIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwib3B0aW9ucyIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwibmV4dCIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJwb3AiLCJlIiwic3RlcCIsIl9fZ2VuZXJhdG9yIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsImNvbmNhdCIsImpzb24iLCJQIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsImlzRW52QnJvd3NlciJdLCJzb3VyY2VSb290IjoiIn0=