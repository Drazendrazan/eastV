(()=>{var Pr=Object.create;var te=Object.defineProperty;var Ar=Object.getOwnPropertyDescriptor;var Mr=Object.getOwnPropertyNames;var Ur=Object.getPrototypeOf,Or=Object.prototype.hasOwnProperty;var De=e=>te(e,"__esModule",{value:!0});var p=(e,r)=>()=>(e&&(r=e(e=0)),r);var x=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Tr=(e,r)=>{for(var t in r)te(e,t,{get:r[t],enumerable:!0})},Ge=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of Mr(r))!Or.call(e,o)&&(t||o!=="default")&&te(e,o,{get:()=>r[o],enumerable:!(n=Ar(r,o))||n.enumerable});return e},q=(e,r)=>Ge(De(te(e!=null?Pr(Ur(e)):{},"default",!r&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Br=(e=>(r,t)=>e&&e.get(r)||(t=Ge(De({}),r,1),e&&e.set(r,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var d=(e,r,t)=>new Promise((n,o)=>{var a=i=>{try{l(t.next(i))}catch(c){o(c)}},s=i=>{try{l(t.throw(i))}catch(c){o(c)}},l=i=>i.done?n(i.value):Promise.resolve(i.value).then(a,s);l((t=t.apply(e,r)).next())});var me=x($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.uuidV4=$.RegisterNuiCB=void 0;var Lr=(e,r)=>{RegisterNuiCallbackType(e),on(`__cfx_nui:${e}`,r)};$.RegisterNuiCB=Lr;var Er=(e,r,t)=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let o=Math.random()*16|0;return(n=="x"?o:o&3|8).toString(16)});$.uuidV4=Er});var Ve=x(F=>{"use strict";var Dr=F&&F.__awaiter||function(e,r,t,n){function o(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function l(f){try{c(n.next(f))}catch(C){s(C)}}function i(f){try{c(n.throw(f))}catch(C){s(C)}}function c(f){f.done?a(f.value):o(f.value).then(l,i)}c((n=n.apply(e,r||[])).next())})};Object.defineProperty(F,"__esModule",{value:!0});F.ClientUtils=void 0;var Gr=me(),je=class{constructor(r){this._settings={promiseTimeout:15e3,debugMode:!1},this.setSettings(r)}debugLog(...r){!this._settings.debugMode||console.log("^1[ClUtils]^0",...r)}setSettings(r){this._settings=Object.assign(Object.assign({},this._settings),r)}emitNetPromise(r,t){return new Promise((n,o)=>{let a=!1;setTimeout(()=>{a=!0,o(`${r} has timed out after ${this._settings.promiseTimeout} ms`)},this._settings.promiseTimeout);let s=Gr.uuidV4(),l=`${r}:${s}`;emitNet(r,l,t);let i=c=>{removeEventListener(l,i),!a&&n(c)};onNet(l,i)})}registerNuiProxy(r){RegisterNuiCallbackType(r),on(`__cfx_nui:${r}`,(t,n)=>Dr(this,void 0,void 0,function*(){this.debugLog(`NUICallback processed: ${r}`),this.debugLog("NUI CB Data:",t);try{let o=yield this.emitNetPromise(r,t);n(o)}catch(o){console.error("Error encountered while listening to resp. Error:",o),n({err:o})}}))}registerRPCListener(r,t){onNet(r,(n,o)=>{this.debugLog(`RPC called: ${r}`),Promise.resolve(t(o)).then(a=>{this.debugLog("RPC Data:",o),emitNet(n,a)}).catch(a=>{console.error(`RPC Error in ${r}, ERR: ${a.message}`)})})}};F.ClientUtils=je});var $e=x(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.ClientLogger=void 0;var qe=class{constructor(r){this._settings={minLevel:"debug",prefix:void 0,colorizeAll:!0},this._defaultColorMap={error:"^1",trace:"^9",info:"^4",debug:"^2",warn:"^8",fatal:"^6",silly:"^5"},this._logLevels=["silly","trace","debug","info","warn","error","fatal"],this._settings=Object.assign(Object.assign({},this._settings),r)}getPrefix(){return this._settings.prefix||""}info(...r){this._handleLogOut("info",r)}error(...r){this._handleLogOut("error",r)}debug(...r){this._handleLogOut("debug",r)}silly(...r){this._handleLogOut("silly",r)}warn(...r){this._handleLogOut("warn",r)}fatal(...r){this._handleLogOut("fatal",r)}_handleLogOut(r,t){this._logLevels.indexOf(r)>=this._logLevels.indexOf(this._settings.minLevel)&&this._buildAndWriteOutLog(r,t)}_buildAndWriteOutLog(r,t){let n=this._settings.prefix?`[${this.getPrefix()}]`:"";n+=`${this._defaultColorMap[r]}[${r.toUpperCase()}]`,this._settings.colorizeAll||(n+="^0"),console.log(n,...t)}};re.ClientLogger=qe});var Fe=x(N=>{"use strict";var jr=N&&N.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),ge=N&&N.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&jr(r,e,t)};Object.defineProperty(N,"__esModule",{value:!0});ge(me(),N);ge(Ve(),N);ge($e(),N)});var ke=x(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.ServerStatus=P.ServerErrorCodes=void 0;var Vr;(function(e){e.UnknownError="UNKNOWN_ERROR",e.TimedOut="TIMED_OUT",e.NotAllowed="NOT_ALLOWED",e.ServerError="SERVER_ERROR",e.InvalidData="INVALID_DATA"})(Vr=P.ServerErrorCodes||(P.ServerErrorCodes={}));var qr;(function(e){e.OK="ok",e.Error="error"})(qr=P.ServerStatus||(P.ServerStatus={}))});var he=x(E=>{"use strict";var $r=E&&E.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Fr=E&&E.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&$r(r,e,t)};Object.defineProperty(E,"__esModule",{value:!0});Fr(ke(),E)});function W(){if(!ne&&(ne=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ne))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ne(kr)}var ne,kr,ye=p(()=>{kr=new Uint8Array(16)});var He,We=p(()=>{He=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Hr(e){return typeof e=="string"&&He.test(e)}var A,Z=p(()=>{We();A=Hr});function Wr(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(h[e[r+0]]+h[e[r+1]]+h[e[r+2]]+h[e[r+3]]+"-"+h[e[r+4]]+h[e[r+5]]+"-"+h[e[r+6]]+h[e[r+7]]+"-"+h[e[r+8]]+h[e[r+9]]+"-"+h[e[r+10]]+h[e[r+11]]+h[e[r+12]]+h[e[r+13]]+h[e[r+14]]+h[e[r+15]]).toLowerCase();if(!A(t))throw TypeError("Stringified UUID is invalid");return t}var h,oe,M,z=p(()=>{Z();h=[];for(oe=0;oe<256;++oe)h.push((oe+256).toString(16).substr(1));M=Wr});function Zr(e,r,t){var n=r&&t||0,o=r||new Array(16);e=e||{};var a=e.node||Ze,s=e.clockseq!==void 0?e.clockseq:ve;if(a==null||s==null){var l=e.random||(e.rng||W)();a==null&&(a=Ze=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),s==null&&(s=ve=(l[6]<<8|l[7])&16383)}var i=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:we+1,f=i-be+(c-we)/1e4;if(f<0&&e.clockseq===void 0&&(s=s+1&16383),(f<0||i>be)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");be=i,we=c,ve=s,i+=122192928e5;var C=((i&268435455)*1e4+c)%4294967296;o[n++]=C>>>24&255,o[n++]=C>>>16&255,o[n++]=C>>>8&255,o[n++]=C&255;var g=i/4294967296*1e4&268435455;o[n++]=g>>>8&255,o[n++]=g&255,o[n++]=g>>>24&15|16,o[n++]=g>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(var _=0;_<6;++_)o[n+_]=a[_];return r||M(o)}var Ze,ve,be,we,ze,Ke=p(()=>{ye();z();be=0,we=0;ze=Zr});function zr(e){if(!A(e))throw TypeError("Invalid UUID");var r,t=new Uint8Array(16);return t[0]=(r=parseInt(e.slice(0,8),16))>>>24,t[1]=r>>>16&255,t[2]=r>>>8&255,t[3]=r&255,t[4]=(r=parseInt(e.slice(9,13),16))>>>8,t[5]=r&255,t[6]=(r=parseInt(e.slice(14,18),16))>>>8,t[7]=r&255,t[8]=(r=parseInt(e.slice(19,23),16))>>>8,t[9]=r&255,t[10]=(r=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=r/4294967296&255,t[12]=r>>>24&255,t[13]=r>>>16&255,t[14]=r>>>8&255,t[15]=r&255,t}var ae,Ce=p(()=>{Z();ae=zr});function Kr(e){e=unescape(encodeURIComponent(e));for(var r=[],t=0;t<e.length;++t)r.push(e.charCodeAt(t));return r}function se(e,r,t){function n(o,a,s,l){if(typeof o=="string"&&(o=Kr(o)),typeof a=="string"&&(a=ae(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var i=new Uint8Array(16+o.length);if(i.set(a),i.set(o,a.length),i=t(i),i[6]=i[6]&15|r,i[8]=i[8]&63|128,s){l=l||0;for(var c=0;c<16;++c)s[l+c]=i[c];return s}return M(i)}try{n.name=e}catch{}return n.DNS=Yr,n.URL=Jr,n}var Yr,Jr,xe=p(()=>{z();Ce();Yr="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Jr="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Xr(e){if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=new Uint8Array(r.length);for(var t=0;t<r.length;++t)e[t]=r.charCodeAt(t)}return Qr(en(tn(e),e.length*8))}function Qr(e){for(var r=[],t=e.length*32,n="0123456789abcdef",o=0;o<t;o+=8){var a=e[o>>5]>>>o%32&255,s=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);r.push(s)}return r}function Ye(e){return(e+64>>>9<<4)+14+1}function en(e,r){e[r>>5]|=128<<r%32,e[Ye(r)-1]=r;for(var t=1732584193,n=-271733879,o=-1732584194,a=271733878,s=0;s<e.length;s+=16){var l=t,i=n,c=o,f=a;t=y(t,n,o,a,e[s],7,-680876936),a=y(a,t,n,o,e[s+1],12,-389564586),o=y(o,a,t,n,e[s+2],17,606105819),n=y(n,o,a,t,e[s+3],22,-1044525330),t=y(t,n,o,a,e[s+4],7,-176418897),a=y(a,t,n,o,e[s+5],12,1200080426),o=y(o,a,t,n,e[s+6],17,-1473231341),n=y(n,o,a,t,e[s+7],22,-45705983),t=y(t,n,o,a,e[s+8],7,1770035416),a=y(a,t,n,o,e[s+9],12,-1958414417),o=y(o,a,t,n,e[s+10],17,-42063),n=y(n,o,a,t,e[s+11],22,-1990404162),t=y(t,n,o,a,e[s+12],7,1804603682),a=y(a,t,n,o,e[s+13],12,-40341101),o=y(o,a,t,n,e[s+14],17,-1502002290),n=y(n,o,a,t,e[s+15],22,1236535329),t=v(t,n,o,a,e[s+1],5,-165796510),a=v(a,t,n,o,e[s+6],9,-1069501632),o=v(o,a,t,n,e[s+11],14,643717713),n=v(n,o,a,t,e[s],20,-373897302),t=v(t,n,o,a,e[s+5],5,-701558691),a=v(a,t,n,o,e[s+10],9,38016083),o=v(o,a,t,n,e[s+15],14,-660478335),n=v(n,o,a,t,e[s+4],20,-405537848),t=v(t,n,o,a,e[s+9],5,568446438),a=v(a,t,n,o,e[s+14],9,-1019803690),o=v(o,a,t,n,e[s+3],14,-187363961),n=v(n,o,a,t,e[s+8],20,1163531501),t=v(t,n,o,a,e[s+13],5,-1444681467),a=v(a,t,n,o,e[s+2],9,-51403784),o=v(o,a,t,n,e[s+7],14,1735328473),n=v(n,o,a,t,e[s+12],20,-1926607734),t=b(t,n,o,a,e[s+5],4,-378558),a=b(a,t,n,o,e[s+8],11,-2022574463),o=b(o,a,t,n,e[s+11],16,1839030562),n=b(n,o,a,t,e[s+14],23,-35309556),t=b(t,n,o,a,e[s+1],4,-1530992060),a=b(a,t,n,o,e[s+4],11,1272893353),o=b(o,a,t,n,e[s+7],16,-155497632),n=b(n,o,a,t,e[s+10],23,-1094730640),t=b(t,n,o,a,e[s+13],4,681279174),a=b(a,t,n,o,e[s],11,-358537222),o=b(o,a,t,n,e[s+3],16,-722521979),n=b(n,o,a,t,e[s+6],23,76029189),t=b(t,n,o,a,e[s+9],4,-640364487),a=b(a,t,n,o,e[s+12],11,-421815835),o=b(o,a,t,n,e[s+15],16,530742520),n=b(n,o,a,t,e[s+2],23,-995338651),t=w(t,n,o,a,e[s],6,-198630844),a=w(a,t,n,o,e[s+7],10,1126891415),o=w(o,a,t,n,e[s+14],15,-1416354905),n=w(n,o,a,t,e[s+5],21,-57434055),t=w(t,n,o,a,e[s+12],6,1700485571),a=w(a,t,n,o,e[s+3],10,-1894986606),o=w(o,a,t,n,e[s+10],15,-1051523),n=w(n,o,a,t,e[s+1],21,-2054922799),t=w(t,n,o,a,e[s+8],6,1873313359),a=w(a,t,n,o,e[s+15],10,-30611744),o=w(o,a,t,n,e[s+6],15,-1560198380),n=w(n,o,a,t,e[s+13],21,1309151649),t=w(t,n,o,a,e[s+4],6,-145523070),a=w(a,t,n,o,e[s+11],10,-1120210379),o=w(o,a,t,n,e[s+2],15,718787259),n=w(n,o,a,t,e[s+9],21,-343485551),t=U(t,l),n=U(n,i),o=U(o,c),a=U(a,f)}return[t,n,o,a]}function tn(e){if(e.length===0)return[];for(var r=e.length*8,t=new Uint32Array(Ye(r)),n=0;n<r;n+=8)t[n>>5]|=(e[n/8]&255)<<n%32;return t}function U(e,r){var t=(e&65535)+(r&65535),n=(e>>16)+(r>>16)+(t>>16);return n<<16|t&65535}function rn(e,r){return e<<r|e>>>32-r}function ie(e,r,t,n,o,a){return U(rn(U(U(r,e),U(n,a)),o),t)}function y(e,r,t,n,o,a,s){return ie(r&t|~r&n,e,r,o,a,s)}function v(e,r,t,n,o,a,s){return ie(r&n|t&~n,e,r,o,a,s)}function b(e,r,t,n,o,a,s){return ie(r^t^n,e,r,o,a,s)}function w(e,r,t,n,o,a,s){return ie(t^(r|~n),e,r,o,a,s)}var Je,Xe=p(()=>{Je=Xr});var nn,Qe,et=p(()=>{xe();Xe();nn=se("v3",48,Je),Qe=nn});function an(e,r,t){e=e||{};var n=e.random||(e.rng||W)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return M(n)}var tt,rt=p(()=>{ye();z();tt=an});function sn(e,r,t,n){switch(e){case 0:return r&t^~r&n;case 1:return r^t^n;case 2:return r&t^r&n^t&n;case 3:return r^t^n}}function _e(e,r){return e<<r|e>>>32-r}function ln(e){var r=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var n=unescape(encodeURIComponent(e));e=[];for(var o=0;o<n.length;++o)e.push(n.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,s=Math.ceil(a/16),l=new Array(s),i=0;i<s;++i){for(var c=new Uint32Array(16),f=0;f<16;++f)c[f]=e[i*64+f*4]<<24|e[i*64+f*4+1]<<16|e[i*64+f*4+2]<<8|e[i*64+f*4+3];l[i]=c}l[s-1][14]=(e.length-1)*8/Math.pow(2,32),l[s-1][14]=Math.floor(l[s-1][14]),l[s-1][15]=(e.length-1)*8&4294967295;for(var C=0;C<s;++C){for(var g=new Uint32Array(80),_=0;_<16;++_)g[_]=l[C][_];for(var I=16;I<80;++I)g[I]=_e(g[I-3]^g[I-8]^g[I-14]^g[I-16],1);for(var T=t[0],B=t[1],L=t[2],Q=t[3],pe=t[4],ee=0;ee<80;++ee){var Ee=Math.floor(ee/20),Rr=_e(T,5)+sn(Ee,B,L,Q)+pe+r[Ee]+g[ee]>>>0;pe=Q,Q=L,L=_e(B,30)>>>0,B=T,T=Rr}t[0]=t[0]+T>>>0,t[1]=t[1]+B>>>0,t[2]=t[2]+L>>>0,t[3]=t[3]+Q>>>0,t[4]=t[4]+pe>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var nt,ot=p(()=>{nt=ln});var cn,at,st=p(()=>{xe();ot();cn=se("v5",80,nt),at=cn});var it,lt=p(()=>{it="00000000-0000-0000-0000-000000000000"});function un(e){if(!A(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var ct,ut=p(()=>{Z();ct=un});var ft={};Tr(ft,{NIL:()=>it,parse:()=>ae,stringify:()=>M,v1:()=>ze,v3:()=>Qe,v4:()=>tt,v5:()=>at,validate:()=>A,version:()=>ct});var dt=p(()=>{Ke();et();rt();st();lt();ut();Z();z();Ce()});var gt=x(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.ServerUtils=void 0;var pt=he(),fn=(dt(),Br(ft)),mt=class{constructor(r){this._utilSettings={debugMode:!1,rpcTimeout:1e4},this._utilSettings=Object.assign(Object.assign({},this._utilSettings),r)}debugLog(...r){!this._utilSettings.debugMode||console.log("^3[SvUtils]^1",...r)}onNetPromise(r,t){onNet(r,(n,o)=>{let a=global.source,s={source:a,data:o};this.debugLog(`NetPromise received for ${r}, src: ${a}`),this.debugLog("Data:",o);let l=i=>{this.debugLog(`PromiseResp: s m  = ${a}, e = ${n}`),this.debugLog("RetData",i),emitNet(n,a,i)};Promise.resolve(t(s,l)).catch(i=>{console.error(`Error in onNetPromise (${r}), ERROR: ${i.message}`),l({status:pt.ServerStatus.Error,errorMsg:pt.ServerErrorCodes.UnknownError})})})}callClientRPC(r,t,n){return new Promise((o,a)=>{let s=!1;setTimeout(()=>{s=!0,a(`RPC Call: ${r} timed out after ${this._utilSettings.rpcTimeout} `)},this._utilSettings.rpcTimeout);let l=fn.v4(),i=`${r}:${l}`;emitNet(r,t,i,n);let c=f=>{removeEventListener(i,c),!s&&o(f)};onNet(i,c)})}};le.ServerUtils=mt});var ht=x(D=>{"use strict";var dn=D&&D.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),pn=D&&D.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&dn(r,e,t)};Object.defineProperty(D,"__esModule",{value:!0});pn(gt(),D)});var vt=x(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0})});var wt=x(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0})});var xt=x(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0})});var _t=x(R=>{"use strict";var mn=R&&R.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Ie=R&&R.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&mn(r,e,t)};Object.defineProperty(R,"__esModule",{value:!0});Ie(vt(),R);Ie(wt(),R);Ie(xt(),R)});var K=x(S=>{"use strict";var gn=S&&S.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),ce=S&&S.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&gn(r,e,t)};Object.defineProperty(S,"__esModule",{value:!0});ce(Fe(),S);ce(ht(),S);ce(he(),S);ce(_t(),S)});var ue=p(()=>{});var St,hn,m,It,yn,Se,Y,Ne=p(()=>{St=q(K()),hn=new St.ClientUtils({promiseTimout:200}),m=e=>{RegisterNuiCallbackType(e),on(`__cfx_nui:${e}`,(r,t)=>d(void 0,null,function*(){try{let n=yield hn.emitNetPromise(e,r);t(n)}catch(n){console.error("Error encountered while listening to resp. Error:",n),t({status:"error"})}}))},It=e=>{let[r,t,n]=e;return{x:r,y:t,z:n}},yn=(e,r)=>{let t=e.x-r.x,n=e.y-r.y,o=e.z-r.z;return Math.sqrt(t*t+n*n+o*o)},Se=e=>{let r=PlayerId(),t=PlayerPedId(),n=GetEntityCoords(t,!1),o=GetActivePlayers(),a=It(n),s,l;if(o.forEach(i=>{if(i===r||!n)return;let c=GetPlayerPed(i),f=GetEntityCoords(c,!1);if(!f)return;let C=It(f),g=yn(C,a);(!l||g<l)&&(l=g,s=GetPlayerServerId(i))}),!s)return null;if(e&&e<(l!=null?l:0))throw new Error("No player nearby");return{distance:l!=null?l:1/0,source:s}},Y=e=>!(!e||isNaN(Number(e))||Number(e)<=0)});var Nt,Rt,G,Re=p(()=>{Nt=q(K());ue();Rt=class{constructor(){this.utils=new Nt.ClientUtils({promiseTimout:200})}getInvoices(){return d(this,null,function*(){var r;try{let t=yield this.utils.emitNetPromise("pefcl:getInvoices",{});if(t.status!=="ok")throw new Error(t.errorMsg);return(r=t.data)!=null?r:[]}catch(t){console.error(t)}return[]})}giveCash(r,t){return d(this,null,function*(){var o;let n=yield this.utils.emitNetPromise("pefcl:giveCash",{source:r,amount:t});if(n.status!=="ok")throw new Error(n.errorMsg);return(o=n.data)!=null?o:!1})}getMyCash(){return d(this,null,function*(){try{let r=yield this.utils.emitNetPromise("pefcl:getMyCash",{});if(r.status!=="ok")throw new Error(r.errorMsg);return r.data}catch(r){console.error(r);return}})}createInvoice(r){return d(this,null,function*(){try{let t=yield this.utils.emitNetPromise("pefcl:createOnlineInvoice",r);if(t.status!=="ok")throw new Error(t.errorMsg);return t.data}catch(t){console.error(t);return}})}depositMoney(r){return d(this,null,function*(){try{let t={amount:r,message:"Deposition"},n=yield this.utils.emitNetPromise("pefcl:depositMoney",t);console.log({response:n})}catch(t){console.error(t);return}})}withdrawMoney(r){return d(this,null,function*(){try{let t={amount:r,message:"Withdrawal"},n=yield this.utils.emitNetPromise("pefcl:withdrawMoney",t);console.log({response:n})}catch(t){console.error(t);return}})}},G=new Rt});var u,J=p(()=>{u=JSON.parse(LoadResourceFile(GetCurrentResourceName(),"config.json"))});var Ut=x(Me=>{var Pe=q(K());ue();Ne();Re();J();var Cn=global.exports.npwd,Pt,xn=(Pt=u.frameworkIntegration)==null?void 0:Pt.enabled,Ae=!1;(0,Pe.RegisterNuiCB)("pefcl:nuiHasLoaded",()=>{console.debug("NUI has loaded."),Ae=!0});(0,Pe.RegisterNuiCB)("pefcl:nuiHasUnloaded",()=>{console.debug("NUI has unloaded."),Ae=!1});var At=(e=250)=>new Promise(r=>{let t=setInterval(()=>{Ae&&(r(),clearInterval(t))},e)}),j=e=>{SendNUIMessage(e),Cn.sendUIMessage(e)};onNet("pefcl:newTransactionBroadcast",e=>{j({type:"pefcl:newTransactionBroadcast",payload:e})});onNet("pefcl:newInvoiceBroadcast",e=>{j({type:"pefcl:newInvoiceBroadcast",payload:e})});onNet("pefcl:newSharedUser",()=>{j({type:"pefcl:newSharedUser"})});onNet("pefcl:removedSharedUser",()=>{j({type:"pefcl:removedSharedUser"})});onNet("pefcl:userLoaded",()=>d(Me,null,function*(){var e;console.debug("Waiting for NUI to load .."),yield At(),console.debug("Loaded. Emitting data to NUI."),j({type:"pefcl:userLoaded",payload:!0}),xn||StatSetInt(Mt,(e=yield G.getMyCash())!=null?e:0,!0)}));onNet("pefcl:userUnloaded",()=>{j({type:"pefcl:userUnloaded"})});var Mt=GetHashKey("MP0_WALLET_BALANCE");onNet("pefcl:updateCashBalance",e=>{StatSetInt(Mt,e,!0)});m("pefcl:getAccounts");m("pefcl:createAccount");m("pefcl:deleteAccount");m("pefcl:setDefaultAccount");m("pefcl:renameAccount");m("pefcl:getInvoices");m("pefcl:countUnpaid");m("pefcl:createInvoice");m("pefcl:payInvoice");m("pefcl:getTransactions");m("pefcl:getTransactionsHistory");m("pefcl:createTransfer");m("pefcl:userEventsGetUsers");m("pefcl:sharedAccountsAddUser");m("pefcl:sharedAccountsRemoveUser");m("pefcl:sharedAccountsGetUsers");m("pefcl:addExternalAccount");m("pefcl:getExternalAccount");m("pefcl:withdrawMoney");m("pefcl:depositMoney");m("pefcl:getMyCash");RegisterCommand("bank-force-load",()=>d(Me,null,function*(){console.debug("Waiting for NUI to load .."),yield At(),console.debug("Loaded. Emitting data to NUI."),j({type:"pefcl:userLoaded",payload:!0})}),!1)});var Ot=p(()=>{});var fe,de,Tt,Bt,Ue=p(()=>{Ot();Re();Ne();fe=(e,r)=>d(void 0,null,function*(){let[t]=r;if(!Y(t)){console.log("Invalid amount");return}let o=Se(5);if(!o){console.log("No player nearby.");return}yield G.giveCash(o.source,Number(t)).catch(a=>{if(a.message==="InsufficentFunds"){console.log("You are too poor");return}console.log(a)})}),de=(e,r)=>d(void 0,null,function*(){let[t,n]=r;if(!Y(t)){console.log("Invalid amount");return}let a=Se(5);if(!a){console.log("No player nearby.");return}yield G.createInvoice({amount:Number(t),message:n,source:a.source})}),Tt=e=>d(void 0,null,function*(){if(!Y(e)){console.log("Invalid amount");return}return yield G.depositMoney(Number(e))}),Bt=e=>d(void 0,null,function*(){if(!Y(e)){console.log("Invalid amount");return}return yield G.withdrawMoney(Number(e))})});var Lt=x(X=>{Oe();Ue();var O=global.exports;O("openBank",()=>d(X,null,function*(){V(!0)}));O("closeBank",()=>d(X,null,function*(){V(!1)}));O("openAtm",()=>d(X,null,function*(){k(!0)}));O("closeAtm",()=>d(X,null,function*(){k(!1)}));O("giveNearestPlayerCash",e=>{fe(0,[e])});O("createInvoiceForNearestPlayer",(e,r)=>{de(0,[e,r])});O("depositMoney",e=>{Tt(e)});O("withdrawMoney",e=>{Bt(e)})});var Et,Dt,Gt,_n,jt,Vt,Te,In,qt,$t,Ft,kt,Ht=p(()=>{Oe();J();Et=global.exports,_n=(Gt=(Dt=u.target)==null?void 0:Dt.enabled)!=null?Gt:!1,Te=(Vt=(jt=u.target)==null?void 0:jt.type)!=null?Vt:"qtarget",In=GetResourceState(Te)==="started";if(_n&&In){let e=($t=(qt=u.target)==null?void 0:qt.bankZones)!=null?$t:[];((kt=(Ft=u.atms)==null?void 0:Ft.props)!=null?kt:[]).forEach(t=>{Et[Te].AddTargetModel(t,{options:[{event:"pefcl:open:atm",icon:"fas fa-money-bill-1-wave",label:"ATM"}]})}),e.forEach((t,n)=>{let o="bank_"+n;if(!t)throw new Error('Missing zone. Check your "qtarget.bankZones" config.');Et[Te].AddBoxZone(o,t.position,t.length,t.width,{name:o,heading:t.heading,debugPoly:!1,minZ:t.minZ,maxZ:t.maxZ},{options:[{event:"pefcl:open:bank",icon:"fas fa-building-columns",label:"Open bank"}],distance:1.5})}),AddEventHandler("pefcl:open:atm",()=>{k(!0)}),AddEventHandler("pefcl:open:bank",()=>{V(!0)})}});var Wt,Zt,Sn,zt,Kt,Nn,Yt,Jt,Xt,Qt,er,tr,rr,nr,or,ar,sr,ir,lr,cr,ur,fr,dr,pr,mr,gr,hr,yr,vr,br,wr,Cr,xr,_r,Ir=p(()=>{J();Sn=(Zt=(Wt=u.bankBlips)==null?void 0:Wt.enabled)!=null?Zt:!1,Nn=(Kt=(zt=u.atmBlips)==null?void 0:zt.enabled)!=null?Kt:!1;if(Sn){let e=(Jt=(Yt=u.bankBlips)==null?void 0:Yt.name)!=null?Jt:"Bank",r=(Qt=(Xt=u.bankBlips)==null?void 0:Xt.colour)!=null?Qt:3,t=(tr=(er=u.bankBlips)==null?void 0:er.icon)!=null?tr:4,n=(nr=(rr=u.bankBlips)==null?void 0:rr.scale)!=null?nr:1,o=(ar=(or=u.bankBlips)==null?void 0:or.coords)!=null?ar:[],a=(ir=(sr=u.bankBlips)==null?void 0:sr.display)!=null?ir:4,s=(cr=(lr=u.bankBlips)==null?void 0:lr.shortRange)!=null?cr:!0;o.forEach(l=>{if(!l||!l.x||!l.y||!l.z)throw new Error('Missing blip coords. Check your "blips.coords" config.');let i=AddBlipForCoord(l.x,l.y,l.z);SetBlipDisplay(i,a),SetBlipSprite(i,t),SetBlipScale(i,n),SetBlipColour(i,r),SetBlipAsShortRange(i,s),BeginTextCommandSetBlipName("STRING"),AddTextComponentString(e),EndTextCommandSetBlipName(i)})}if(Nn){let e=(fr=(ur=u.atmBlips)==null?void 0:ur.name)!=null?fr:"ATM",r=(pr=(dr=u.atmBlips)==null?void 0:dr.colour)!=null?pr:3,t=(gr=(mr=u.atmBlips)==null?void 0:mr.icon)!=null?gr:4,n=(yr=(hr=u.atmBlips)==null?void 0:hr.scale)!=null?yr:1,o=(br=(vr=u.atmBlips)==null?void 0:vr.coords)!=null?br:[],a=(Cr=(wr=u.atmBlips)==null?void 0:wr.display)!=null?Cr:4,s=(_r=(xr=u.atmBlips)==null?void 0:xr.shortRange)!=null?_r:!0;o.forEach(l=>{if(!l||!l.x||!l.y||!l.z)throw new Error('Missing blip coords. Check your "blips.coords" config.');let i=AddBlipForCoord(l.x,l.y,l.z);SetBlipDisplay(i,a),SetBlipSprite(i,t),SetBlipScale(i,n),SetBlipColour(i,r),SetBlipAsShortRange(i,s),BeginTextCommandSetBlipName("STRING"),AddTextComponentString(e),EndTextCommandSetBlipName(i)})}});var ta,ra,Nr,H,Be,Sr,Le,V,k,Oe=p(()=>{ta=q(Ut()),ra=q(Lt());Ht();Ir();ue();Nr=q(K());Ue();J();H=!1,Be=!1,Le=(Sr=u.frameworkIntegration)==null?void 0:Sr.enabled,V=e=>{Be!==e&&(Be=e,SendNUIMessage({type:"setVisible",payload:e}),SetNuiFocus(e,e))},k=e=>{H!==e&&(H=e,SendNUIMessage({type:"setVisibleATM",payload:e}),SetNuiFocus(e,e))};Le||(RegisterCommand("bank",()=>{V(!Be)},!1),RegisterCommand("atm",()=>{var I,T,B,L;let e=PlayerPedId(),[r,t,n]=GetEntityCoords(e,!1),[o,a,s]=GetOffsetFromEntityInWorldCoords(e,0,(T=(I=u.atms)==null?void 0:I.distance)!=null?T:5,0),l=StartShapeTestCapsule(r,t,n,o,a,s,.5,16,0,4),[i,c,f,C,g]=GetRaycastResult(l);if(!c)return console.log("not hit");let _=GetEntityModel(g);if(!((L=(B=u.atms)==null?void 0:B.props)!=null&&L.includes(_)))return console.log("not atm");H=!H,SendNUIMessage({type:"setVisibleATM",payload:H}),H?SetNuiFocus(!0,!0):SetNuiFocus(!1,!1)},!1));(0,Nr.RegisterNuiCB)("pefcl:closeNui",()=>d(void 0,null,function*(){V(!1),k(!1)}));Le||RegisterCommand("cash",()=>d(void 0,null,function*(){SetMultiplayerWalletCash(),setTimeout(RemoveMultiplayerWalletCash,5e3)}),!1);Le||(RegisterCommand("giveCash",fe,!1),RegisterCommand("createInvoice",de,!1))});Oe();})();
